2022-03-04 10:09:41 INFO cmdtest version 0.32+git starts
2022-03-04 10:09:41 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 10:09:41 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:09:41 DEBUG uid: 1001
2022-03-04 10:09:41 DEBUG effective uid: 1001
2022-03-04 10:09:41 DEBUG gid: 1001
2022-03-04 10:09:41 DEBUG effective gid: 1001
2022-03-04 10:09:41 DEBUG environment variables:
2022-03-04 10:09:41 DEBUG environment: SHELL=/bin/bash
2022-03-04 10:09:41 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/2336,unix/ct-lt-2124:/tmp/.ICE-unix/2336
2022-03-04 10:09:41 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 10:09:41 DEBUG environment: COLORTERM=truecolor
2022-03-04 10:09:41 DEBUG environment: SSH_AGENT_LAUNCHER=openssh
2022-03-04 10:09:41 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 10:09:41 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 10:09:41 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 10:09:41 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 10:09:41 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 10:09:41 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 10:09:41 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 10:09:41 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:09:41 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 10:09:41 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 10:09:41 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 10:09:41 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.NOGDI1
2022-03-04 10:09:41 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 10:09:41 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 10:09:41 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 10:09:41 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 10:09:41 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 10:09:41 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 10:09:41 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 10:09:41 DEBUG environment: VTE_VERSION=6203
2022-03-04 10:09:41 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 10:09:41 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/86edf5e3_9482_4599_b1d0_83875fd48ed1
2022-03-04 10:09:41 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 10:09:41 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 10:09:41 DEBUG environment: TERM=xterm-256color
2022-03-04 10:09:41 DEBUG environment: USER=chrisshepherd
2022-03-04 10:09:41 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.3735
2022-03-04 10:09:41 DEBUG environment: DISPLAY=:0
2022-03-04 10:09:41 DEBUG environment: SHLVL=2
2022-03-04 10:09:41 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 10:09:41 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 10:09:41 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 10:09:41 DEBUG environment: GDMSESSION=gnome
2022-03-04 10:09:41 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 10:09:41 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 10:09:41 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 10:09:41 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 10:09:41 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 10:09:41 INFO Temporary directory /tmp/tmpn477ix8i
2022-03-04 10:09:41 DEBUG run_script: test_name= script_name=tests/setup_once
2022-03-04 10:09:41 DEBUG run external command: [['tests/setup_once']]
2022-03-04 10:09:42 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 68, in process_args
    self.run_script(ALL_TESTS, td.setup_once)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
PermissionError: [Errno 13] Permission denied: 'tests/setup_once'

2022-03-04 10:10:16 INFO cmdtest version 0.32+git starts
2022-03-04 10:10:16 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 10:10:16 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:16 DEBUG uid: 1001
2022-03-04 10:10:16 DEBUG effective uid: 1001
2022-03-04 10:10:16 DEBUG gid: 1001
2022-03-04 10:10:16 DEBUG effective gid: 1001
2022-03-04 10:10:16 DEBUG environment variables:
2022-03-04 10:10:16 DEBUG environment: SHELL=/bin/bash
2022-03-04 10:10:16 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/2336,unix/ct-lt-2124:/tmp/.ICE-unix/2336
2022-03-04 10:10:16 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 10:10:16 DEBUG environment: COLORTERM=truecolor
2022-03-04 10:10:16 DEBUG environment: SSH_AGENT_LAUNCHER=openssh
2022-03-04 10:10:16 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 10:10:16 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 10:10:16 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 10:10:16 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 10:10:16 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 10:10:16 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 10:10:16 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 10:10:16 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:16 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 10:10:16 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 10:10:16 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 10:10:16 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.NOGDI1
2022-03-04 10:10:16 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 10:10:16 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 10:10:16 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 10:10:16 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 10:10:16 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 10:10:16 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 10:10:16 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 10:10:16 DEBUG environment: VTE_VERSION=6203
2022-03-04 10:10:16 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 10:10:16 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/86edf5e3_9482_4599_b1d0_83875fd48ed1
2022-03-04 10:10:16 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 10:10:16 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 10:10:16 DEBUG environment: TERM=xterm-256color
2022-03-04 10:10:16 DEBUG environment: USER=chrisshepherd
2022-03-04 10:10:16 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.3735
2022-03-04 10:10:16 DEBUG environment: DISPLAY=:0
2022-03-04 10:10:16 DEBUG environment: SHLVL=2
2022-03-04 10:10:16 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 10:10:16 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 10:10:16 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 10:10:16 DEBUG environment: GDMSESSION=gnome
2022-03-04 10:10:16 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 10:10:16 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 10:10:16 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 10:10:16 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 10:10:16 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 10:10:16 INFO Temporary directory /tmp/tmpgn_a7_n1
2022-03-04 10:10:16 DEBUG run_script: test_name= script_name=tests/setup_once
2022-03-04 10:10:16 DEBUG run external command: [['tests/setup_once']]
2022-03-04 10:10:16 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 68, in process_args
    self.run_script(ALL_TESTS, td.setup_once)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/setup_once'

2022-03-04 10:10:32 INFO cmdtest version 0.32+git starts
2022-03-04 10:10:32 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 10:10:32 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:32 DEBUG uid: 1001
2022-03-04 10:10:32 DEBUG effective uid: 1001
2022-03-04 10:10:32 DEBUG gid: 1001
2022-03-04 10:10:32 DEBUG effective gid: 1001
2022-03-04 10:10:32 DEBUG environment variables:
2022-03-04 10:10:32 DEBUG environment: SHELL=/bin/bash
2022-03-04 10:10:32 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/2336,unix/ct-lt-2124:/tmp/.ICE-unix/2336
2022-03-04 10:10:32 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 10:10:32 DEBUG environment: COLORTERM=truecolor
2022-03-04 10:10:32 DEBUG environment: SSH_AGENT_LAUNCHER=openssh
2022-03-04 10:10:32 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 10:10:32 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 10:10:32 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 10:10:32 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 10:10:32 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 10:10:32 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 10:10:32 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 10:10:32 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:32 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 10:10:32 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 10:10:32 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 10:10:32 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.NOGDI1
2022-03-04 10:10:32 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 10:10:32 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 10:10:32 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 10:10:32 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 10:10:32 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 10:10:32 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 10:10:32 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 10:10:32 DEBUG environment: VTE_VERSION=6203
2022-03-04 10:10:32 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 10:10:32 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/86edf5e3_9482_4599_b1d0_83875fd48ed1
2022-03-04 10:10:32 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 10:10:32 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 10:10:32 DEBUG environment: TERM=xterm-256color
2022-03-04 10:10:32 DEBUG environment: USER=chrisshepherd
2022-03-04 10:10:32 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.3735
2022-03-04 10:10:32 DEBUG environment: DISPLAY=:0
2022-03-04 10:10:32 DEBUG environment: SHLVL=2
2022-03-04 10:10:32 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 10:10:32 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 10:10:32 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 10:10:32 DEBUG environment: GDMSESSION=gnome
2022-03-04 10:10:32 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 10:10:32 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 10:10:32 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 10:10:32 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 10:10:32 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 10:10:32 INFO Temporary directory /tmp/tmp06ab4xls
2022-03-04 10:10:32 DEBUG run_script: test_name= script_name=tests/setup_once
2022-03-04 10:10:32 DEBUG run external command: [['tests/setup_once']]
2022-03-04 10:10:32 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 68, in process_args
    self.run_script(ALL_TESTS, td.setup_once)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/setup_once'

2022-03-04 10:10:41 INFO cmdtest version 0.32+git starts
2022-03-04 10:10:41 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 10:10:41 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:41 DEBUG uid: 1001
2022-03-04 10:10:41 DEBUG effective uid: 1001
2022-03-04 10:10:41 DEBUG gid: 1001
2022-03-04 10:10:41 DEBUG effective gid: 1001
2022-03-04 10:10:41 DEBUG environment variables:
2022-03-04 10:10:41 DEBUG environment: SHELL=/bin/bash
2022-03-04 10:10:41 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/2336,unix/ct-lt-2124:/tmp/.ICE-unix/2336
2022-03-04 10:10:41 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 10:10:41 DEBUG environment: COLORTERM=truecolor
2022-03-04 10:10:41 DEBUG environment: SSH_AGENT_LAUNCHER=openssh
2022-03-04 10:10:41 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 10:10:41 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 10:10:41 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 10:10:41 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 10:10:41 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 10:10:41 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 10:10:41 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 10:10:41 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:10:41 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 10:10:41 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 10:10:41 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 10:10:41 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.NOGDI1
2022-03-04 10:10:41 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 10:10:41 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 10:10:41 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 10:10:41 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 10:10:41 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 10:10:41 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 10:10:41 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 10:10:41 DEBUG environment: VTE_VERSION=6203
2022-03-04 10:10:41 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 10:10:41 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/86edf5e3_9482_4599_b1d0_83875fd48ed1
2022-03-04 10:10:41 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 10:10:41 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 10:10:41 DEBUG environment: TERM=xterm-256color
2022-03-04 10:10:41 DEBUG environment: USER=chrisshepherd
2022-03-04 10:10:41 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.3735
2022-03-04 10:10:41 DEBUG environment: DISPLAY=:0
2022-03-04 10:10:41 DEBUG environment: SHLVL=2
2022-03-04 10:10:41 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 10:10:41 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 10:10:41 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 10:10:41 DEBUG environment: GDMSESSION=gnome
2022-03-04 10:10:41 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 10:10:41 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 10:10:41 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 10:10:41 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 10:10:41 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 10:10:41 INFO Temporary directory /tmp/tmpef6sdb0z
2022-03-04 10:10:41 DEBUG run_script: test_name= script_name=None
2022-03-04 10:10:41 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 10:10:41 INFO Test case: one_file_db
2022-03-04 10:10:41 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 10:10:41 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 10:10:41 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 10:11:24 INFO cmdtest version 0.32+git starts
2022-03-04 10:11:24 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 10:11:24 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:11:24 DEBUG uid: 1001
2022-03-04 10:11:24 DEBUG effective uid: 1001
2022-03-04 10:11:24 DEBUG gid: 1001
2022-03-04 10:11:24 DEBUG effective gid: 1001
2022-03-04 10:11:24 DEBUG environment variables:
2022-03-04 10:11:24 DEBUG environment: SHELL=/bin/bash
2022-03-04 10:11:24 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/2336,unix/ct-lt-2124:/tmp/.ICE-unix/2336
2022-03-04 10:11:24 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 10:11:24 DEBUG environment: COLORTERM=truecolor
2022-03-04 10:11:24 DEBUG environment: SSH_AGENT_LAUNCHER=openssh
2022-03-04 10:11:24 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 10:11:24 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 10:11:24 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 10:11:24 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 10:11:24 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 10:11:24 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 10:11:24 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 10:11:24 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 10:11:24 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 10:11:24 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 10:11:24 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 10:11:24 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.NOGDI1
2022-03-04 10:11:24 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 10:11:24 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 10:11:24 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 10:11:24 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 10:11:24 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 10:11:24 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 10:11:24 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 10:11:24 DEBUG environment: VTE_VERSION=6203
2022-03-04 10:11:24 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 10:11:24 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/86edf5e3_9482_4599_b1d0_83875fd48ed1
2022-03-04 10:11:24 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 10:11:24 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 10:11:24 DEBUG environment: TERM=xterm-256color
2022-03-04 10:11:24 DEBUG environment: USER=chrisshepherd
2022-03-04 10:11:24 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.3735
2022-03-04 10:11:24 DEBUG environment: DISPLAY=:0
2022-03-04 10:11:24 DEBUG environment: SHLVL=2
2022-03-04 10:11:24 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 10:11:24 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 10:11:24 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 10:11:24 DEBUG environment: GDMSESSION=gnome
2022-03-04 10:11:24 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 10:11:24 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 10:11:24 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 10:11:24 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 10:11:24 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 10:11:24 INFO Temporary directory /tmp/tmpl4b390a4
2022-03-04 10:11:24 DEBUG run_script: test_name= script_name=None
2022-03-04 10:11:24 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 10:11:24 INFO Test case: one_file_db
2022-03-04 10:11:24 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 10:11:24 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 10:11:24 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:20:21 INFO cmdtest version 0.32+git starts
2022-03-04 17:20:21 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:20:21 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:20:21 DEBUG uid: 1001
2022-03-04 17:20:21 DEBUG effective uid: 1001
2022-03-04 17:20:21 DEBUG gid: 1001
2022-03-04 17:20:21 DEBUG effective gid: 1001
2022-03-04 17:20:21 DEBUG environment variables:
2022-03-04 17:20:21 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:20:21 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:20:21 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:20:21 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:20:21 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:20:21 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:20:21 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:20:21 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:20:21 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:20:21 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:20:21 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:20:21 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:20:21 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:20:21 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:20:21 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:20:21 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:20:21 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:20:21 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:20:21 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:20:21 DEBUG environment: WINDOWPATH=3
2022-03-04 17:20:21 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:20:21 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:20:21 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:20:21 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:20:21 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:20:21 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:20:21 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:20:21 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:20:21 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:20:21 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:20:21 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:20:21 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:20:21 DEBUG environment: TERM=xterm-256color
2022-03-04 17:20:21 DEBUG environment: USER=chrisshepherd
2022-03-04 17:20:21 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:20:21 DEBUG environment: DISPLAY=:0
2022-03-04 17:20:21 DEBUG environment: SHLVL=2
2022-03-04 17:20:21 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:20:21 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:20:21 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:20:21 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:20:21 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:20:21 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:20:21 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:20:21 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:20:21 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:20:21 INFO Temporary directory /tmp/tmp695uzluk
2022-03-04 17:20:21 DEBUG run_script: test_name= script_name=None
2022-03-04 17:20:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:20:21 INFO Test case: one_file_db
2022-03-04 17:20:21 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:20:21 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:20:21 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:21:21 INFO cmdtest version 0.32+git starts
2022-03-04 17:21:21 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:21:21 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:21:21 DEBUG uid: 1001
2022-03-04 17:21:21 DEBUG effective uid: 1001
2022-03-04 17:21:21 DEBUG gid: 1001
2022-03-04 17:21:21 DEBUG effective gid: 1001
2022-03-04 17:21:21 DEBUG environment variables:
2022-03-04 17:21:21 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:21:21 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:21:21 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:21:21 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:21:21 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:21:21 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:21:21 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:21:21 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:21:21 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:21:21 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:21:21 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:21:21 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:21:21 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:21:21 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:21:21 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:21:21 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:21:21 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:21:21 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:21:21 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:21:21 DEBUG environment: WINDOWPATH=3
2022-03-04 17:21:21 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:21:21 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:21:21 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:21:21 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:21:21 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:21:21 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:21:21 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:21:21 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:21:21 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:21:21 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:21:21 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:21:21 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:21:21 DEBUG environment: TERM=xterm-256color
2022-03-04 17:21:21 DEBUG environment: USER=chrisshepherd
2022-03-04 17:21:21 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:21:21 DEBUG environment: DISPLAY=:0
2022-03-04 17:21:21 DEBUG environment: SHLVL=2
2022-03-04 17:21:21 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:21:21 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:21:21 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:21:21 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:21:21 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:21:21 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:21:21 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:21:21 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:21:21 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:21:21 INFO Temporary directory /tmp/tmpa_w0w1kz
2022-03-04 17:21:21 DEBUG run_script: test_name= script_name=None
2022-03-04 17:21:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:21:21 INFO Test case: one_file_db
2022-03-04 17:21:21 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:21:21 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:21:21 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:21:48 INFO cmdtest version 0.32+git starts
2022-03-04 17:21:48 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:21:48 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:21:48 DEBUG uid: 1001
2022-03-04 17:21:48 DEBUG effective uid: 1001
2022-03-04 17:21:48 DEBUG gid: 1001
2022-03-04 17:21:48 DEBUG effective gid: 1001
2022-03-04 17:21:48 DEBUG environment variables:
2022-03-04 17:21:48 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:21:48 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:21:48 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:21:48 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:21:48 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:21:48 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:21:48 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:21:48 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:21:48 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:21:48 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:21:48 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:21:48 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:21:48 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:21:48 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:21:48 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:21:48 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:21:48 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:21:48 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:21:48 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:21:48 DEBUG environment: WINDOWPATH=3
2022-03-04 17:21:48 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:21:48 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:21:48 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:21:48 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:21:48 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:21:48 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:21:48 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:21:48 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:21:48 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:21:48 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:21:48 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:21:48 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:21:48 DEBUG environment: TERM=xterm-256color
2022-03-04 17:21:48 DEBUG environment: USER=chrisshepherd
2022-03-04 17:21:48 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:21:48 DEBUG environment: DISPLAY=:0
2022-03-04 17:21:48 DEBUG environment: SHLVL=2
2022-03-04 17:21:48 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:21:48 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:21:48 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:21:48 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:21:48 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:21:48 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:21:48 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:21:48 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:21:48 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:21:48 INFO Temporary directory /tmp/tmp6es784ja
2022-03-04 17:21:48 DEBUG run_script: test_name= script_name=None
2022-03-04 17:21:48 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:21:48 INFO Test case: one_file_db
2022-03-04 17:21:48 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:21:48 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:21:48 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:22:24 INFO cmdtest version 0.32+git starts
2022-03-04 17:22:24 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:22:24 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:22:24 DEBUG uid: 1001
2022-03-04 17:22:24 DEBUG effective uid: 1001
2022-03-04 17:22:24 DEBUG gid: 1001
2022-03-04 17:22:24 DEBUG effective gid: 1001
2022-03-04 17:22:24 DEBUG environment variables:
2022-03-04 17:22:24 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:22:24 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:22:24 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:22:24 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:22:24 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:22:24 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:22:24 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:22:24 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:22:24 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:22:24 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:22:24 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:22:24 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:22:24 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:22:24 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:22:24 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:22:24 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:22:24 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:22:24 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:22:24 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:22:24 DEBUG environment: WINDOWPATH=3
2022-03-04 17:22:24 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:22:24 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:22:24 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:22:24 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:22:24 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:22:24 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:22:24 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:22:24 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:22:24 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:22:24 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:22:24 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:22:24 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:22:24 DEBUG environment: TERM=xterm-256color
2022-03-04 17:22:24 DEBUG environment: USER=chrisshepherd
2022-03-04 17:22:24 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:22:24 DEBUG environment: DISPLAY=:0
2022-03-04 17:22:24 DEBUG environment: SHLVL=2
2022-03-04 17:22:24 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:22:24 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:22:24 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:22:24 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:22:24 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:22:24 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:22:24 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:22:24 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:22:24 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:22:24 INFO Temporary directory /tmp/tmpgxy_ja5o
2022-03-04 17:22:24 DEBUG run_script: test_name= script_name=None
2022-03-04 17:22:24 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:22:24 INFO Test case: one_file_db
2022-03-04 17:22:24 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:22:24 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:22:24 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:22:36 INFO cmdtest version 0.32+git starts
2022-03-04 17:22:36 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:22:36 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:22:36 DEBUG uid: 1001
2022-03-04 17:22:36 DEBUG effective uid: 1001
2022-03-04 17:22:36 DEBUG gid: 1001
2022-03-04 17:22:36 DEBUG effective gid: 1001
2022-03-04 17:22:36 DEBUG environment variables:
2022-03-04 17:22:36 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:22:36 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:22:36 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:22:36 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:22:36 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:22:36 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:22:36 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:22:36 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:22:36 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:22:36 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:22:36 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:22:36 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:22:36 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:22:36 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:22:36 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:22:36 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:22:36 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:22:36 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:22:36 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:22:36 DEBUG environment: WINDOWPATH=3
2022-03-04 17:22:36 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:22:36 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:22:36 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:22:36 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:22:36 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:22:36 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:22:36 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:22:36 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:22:36 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:22:36 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:22:36 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:22:36 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:22:36 DEBUG environment: TERM=xterm-256color
2022-03-04 17:22:36 DEBUG environment: USER=chrisshepherd
2022-03-04 17:22:36 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:22:36 DEBUG environment: DISPLAY=:0
2022-03-04 17:22:36 DEBUG environment: SHLVL=2
2022-03-04 17:22:36 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:22:36 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:22:36 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:22:36 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:22:36 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:22:36 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:22:36 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:22:36 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:22:36 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:22:36 INFO Temporary directory /tmp/tmp6pi8hlfa
2022-03-04 17:22:36 DEBUG run_script: test_name= script_name=None
2022-03-04 17:22:36 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:22:36 INFO Test case: one_file_db
2022-03-04 17:22:36 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:22:36 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:22:36 CRITICAL Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 193, in _run
    self.process_args(args)
  File "/usr/bin/cmdtest", line 75, in process_args
    for e in self.run_test(test):
  File "/usr/bin/cmdtest", line 161, in run_test
    self.run_script(test.name, test.setup)
  File "/usr/bin/cmdtest", line 148, in run_script
    self.runcmd([script_name], env=self.add_to_env(test_name))
  File "/usr/lib/python3/dist-packages/cliapp/app.py", line 659, in runcmd
    return cliapp.runcmd(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 55, in runcmd
    exit_code, out, err = runcmd_unchecked(argv, *args, **kwargs)
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 102, in runcmd_unchecked
    pipeline = _build_pipeline(argvs,
  File "/usr/lib/python3/dist-packages/cliapp/runcmd.py", line 142, in _build_pipeline
    p = subprocess.Popen(argv, stdin=stdin, stdout=stdout,
  File "/usr/lib/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib/python3.9/subprocess.py", line 1823, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
OSError: [Errno 8] Exec format error: 'tests/one_file_db.setup'

2022-03-04 17:23:17 INFO cmdtest version 0.32+git starts
2022-03-04 17:23:17 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:23:17 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:23:17 DEBUG uid: 1001
2022-03-04 17:23:17 DEBUG effective uid: 1001
2022-03-04 17:23:17 DEBUG gid: 1001
2022-03-04 17:23:17 DEBUG effective gid: 1001
2022-03-04 17:23:17 DEBUG environment variables:
2022-03-04 17:23:17 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:23:17 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:23:17 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:23:17 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:23:17 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:23:17 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:23:17 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:23:17 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:23:17 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:23:17 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:23:17 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:23:17 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:23:17 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:23:17 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:23:17 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:23:17 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:23:17 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:23:17 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:23:17 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:23:17 DEBUG environment: WINDOWPATH=3
2022-03-04 17:23:17 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:23:17 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:23:17 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:23:17 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:23:17 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:23:17 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:23:17 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:23:17 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:23:17 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:23:17 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:23:17 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:23:17 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:23:17 DEBUG environment: TERM=xterm-256color
2022-03-04 17:23:17 DEBUG environment: USER=chrisshepherd
2022-03-04 17:23:17 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:23:17 DEBUG environment: DISPLAY=:0
2022-03-04 17:23:17 DEBUG environment: SHLVL=2
2022-03-04 17:23:17 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:23:17 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:23:17 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:23:17 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:23:17 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:23:17 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:23:17 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:23:17 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:23:17 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:23:17 INFO Temporary directory /tmp/tmpj46qdlcs
2022-03-04 17:23:17 DEBUG run_script: test_name= script_name=None
2022-03-04 17:23:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:17 INFO Test case: one_file_db
2022-03-04 17:23:17 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:23:17 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:23:17 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:23:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:17 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:23:17 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:23:17 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:23:17.421533516 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:23:17 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:23:17.421533516 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 8: source: not found

2022-03-04 17:23:17 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-04 17:23:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:17 DEBUG run_script: test_name= script_name=None
2022-03-04 17:23:17 INFO Removing temporary directory /tmp/tmpj46qdlcs
2022-03-04 17:23:49 INFO cmdtest version 0.32+git starts
2022-03-04 17:23:49 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:23:49 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:23:49 DEBUG uid: 1001
2022-03-04 17:23:49 DEBUG effective uid: 1001
2022-03-04 17:23:49 DEBUG gid: 1001
2022-03-04 17:23:49 DEBUG effective gid: 1001
2022-03-04 17:23:49 DEBUG environment variables:
2022-03-04 17:23:49 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:23:49 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:23:49 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:23:49 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:23:49 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:23:49 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:23:49 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:23:49 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:23:49 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:23:49 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:23:49 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:23:49 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:23:49 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:23:49 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:23:49 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:23:49 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:23:49 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:23:49 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:23:49 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:23:49 DEBUG environment: WINDOWPATH=3
2022-03-04 17:23:49 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:23:49 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:23:49 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:23:49 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:23:49 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:23:49 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:23:49 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:23:49 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:23:49 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:23:49 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:23:49 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:23:49 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:23:49 DEBUG environment: TERM=xterm-256color
2022-03-04 17:23:49 DEBUG environment: USER=chrisshepherd
2022-03-04 17:23:49 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:23:49 DEBUG environment: DISPLAY=:0
2022-03-04 17:23:49 DEBUG environment: SHLVL=2
2022-03-04 17:23:49 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:23:49 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:23:49 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:23:49 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:23:49 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:23:49 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:23:49 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:23:49 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:23:49 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:23:49 INFO Temporary directory /tmp/tmpi8lcksfb
2022-03-04 17:23:49 DEBUG run_script: test_name= script_name=None
2022-03-04 17:23:49 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:49 INFO Test case: one_file_db
2022-03-04 17:23:49 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:23:49 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:23:49 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:23:49 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:49 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:23:49 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:23:49 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:23:49.842715375 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:23:49 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:23:49.846715522 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 8: source: not found

2022-03-04 17:23:49 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-04 17:23:49 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:23:49 DEBUG run_script: test_name= script_name=None
2022-03-04 17:23:49 INFO Removing temporary directory /tmp/tmpi8lcksfb
2022-03-04 17:24:54 INFO cmdtest version 0.32+git starts
2022-03-04 17:24:54 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:24:54 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:24:54 DEBUG uid: 1001
2022-03-04 17:24:54 DEBUG effective uid: 1001
2022-03-04 17:24:54 DEBUG gid: 1001
2022-03-04 17:24:54 DEBUG effective gid: 1001
2022-03-04 17:24:54 DEBUG environment variables:
2022-03-04 17:24:54 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:24:54 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:24:54 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:24:54 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:24:54 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:24:54 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:24:54 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:24:54 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:24:54 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:24:54 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:24:54 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:24:54 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:24:54 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:24:54 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:24:54 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:24:54 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:24:54 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:24:54 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:24:54 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:24:54 DEBUG environment: WINDOWPATH=3
2022-03-04 17:24:54 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:24:54 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:24:54 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:24:54 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:24:54 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:24:54 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:24:54 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:24:54 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:24:54 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:24:54 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:24:54 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:24:54 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:24:54 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:24:54 DEBUG environment: TERM=xterm-256color
2022-03-04 17:24:54 DEBUG environment: USER=chrisshepherd
2022-03-04 17:24:54 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:24:54 DEBUG environment: DISPLAY=:0
2022-03-04 17:24:54 DEBUG environment: SHLVL=2
2022-03-04 17:24:54 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:24:54 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:24:54 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:24:54 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:24:54 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:24:54 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:24:54 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:24:54 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:24:54 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:24:54 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:24:54 INFO Temporary directory /tmp/tmpu32oqvsy
2022-03-04 17:24:54 DEBUG run_script: test_name= script_name=None
2022-03-04 17:24:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:24:54 INFO Test case: one_file_db
2022-03-04 17:24:54 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:24:54 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:24:54 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:24:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:24:54 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:24:54 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:24:54 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:24:54.689083309 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:24:54 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:24:54.697083602 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; ... ; db_main =
+                                       ^
+SyntaxError: invalid syntax

2022-03-04 17:24:54 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:24:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:24:54 DEBUG run_script: test_name= script_name=None
2022-03-04 17:24:54 INFO Removing temporary directory /tmp/tmpu32oqvsy
2022-03-04 17:25:52 INFO cmdtest version 0.32+git starts
2022-03-04 17:25:52 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:25:52 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:25:52 DEBUG uid: 1001
2022-03-04 17:25:52 DEBUG effective uid: 1001
2022-03-04 17:25:52 DEBUG gid: 1001
2022-03-04 17:25:52 DEBUG effective gid: 1001
2022-03-04 17:25:52 DEBUG environment variables:
2022-03-04 17:25:52 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:25:52 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:25:52 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:25:52 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:25:52 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:25:52 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:25:52 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:25:52 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:25:52 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:25:52 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:25:52 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:25:52 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:25:52 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:25:52 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:25:52 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:25:52 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:25:52 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:25:52 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:25:52 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:25:52 DEBUG environment: WINDOWPATH=3
2022-03-04 17:25:52 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:25:52 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:25:52 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:25:52 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:25:52 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:25:52 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:25:52 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:25:52 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:25:52 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:25:52 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:25:52 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:25:52 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:25:52 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:25:52 DEBUG environment: TERM=xterm-256color
2022-03-04 17:25:52 DEBUG environment: USER=chrisshepherd
2022-03-04 17:25:52 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:25:52 DEBUG environment: DISPLAY=:0
2022-03-04 17:25:52 DEBUG environment: SHLVL=2
2022-03-04 17:25:52 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:25:52 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:25:52 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:25:52 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:25:52 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:25:52 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:25:52 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:25:52 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:25:52 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:25:52 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:25:52 INFO Temporary directory /tmp/tmp64mut7gp
2022-03-04 17:25:52 DEBUG run_script: test_name= script_name=None
2022-03-04 17:25:52 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:25:52 INFO Test case: one_file_db
2022-03-04 17:25:52 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:25:52 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:25:52 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:25:52 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:25:52 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:25:52 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:25:52 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:25:52.863210694 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:25:52 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:25:52.871210987 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; ; db_main = rbrDatabase.rbrDatabase();
+                        ^
+SyntaxError: invalid syntax

2022-03-04 17:25:52 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:25:52 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:25:52 DEBUG run_script: test_name= script_name=None
2022-03-04 17:25:52 INFO Removing temporary directory /tmp/tmp64mut7gp
2022-03-04 17:26:12 INFO cmdtest version 0.32+git starts
2022-03-04 17:26:12 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:26:12 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:26:12 DEBUG uid: 1001
2022-03-04 17:26:12 DEBUG effective uid: 1001
2022-03-04 17:26:12 DEBUG gid: 1001
2022-03-04 17:26:12 DEBUG effective gid: 1001
2022-03-04 17:26:12 DEBUG environment variables:
2022-03-04 17:26:12 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:26:12 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:26:12 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:26:12 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:26:12 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:26:12 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:26:12 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:26:12 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:26:12 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:26:12 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:26:12 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:26:12 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:26:12 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:26:12 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:26:12 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:26:12 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:26:12 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:26:12 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:26:12 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:26:12 DEBUG environment: WINDOWPATH=3
2022-03-04 17:26:12 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:26:12 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:26:12 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:26:12 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:26:12 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:26:12 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:26:12 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:26:12 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:26:12 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:26:12 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:26:12 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:26:12 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:26:12 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:26:12 DEBUG environment: TERM=xterm-256color
2022-03-04 17:26:12 DEBUG environment: USER=chrisshepherd
2022-03-04 17:26:12 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:26:12 DEBUG environment: DISPLAY=:0
2022-03-04 17:26:12 DEBUG environment: SHLVL=2
2022-03-04 17:26:12 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:26:12 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:26:12 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:26:12 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:26:12 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:26:12 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:26:12 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:26:12 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:26:12 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:26:12 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:26:12 INFO Temporary directory /tmp/tmph_355fjd
2022-03-04 17:26:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:26:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:12 INFO Test case: one_file_db
2022-03-04 17:26:12 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:26:12 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:26:12 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:26:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:12 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:26:12 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:26:12 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:26:12.307922219 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:26:12 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:26:12.339923390 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    db.main.add_recursively(,
+                            ^
+SyntaxError: invalid syntax

2022-03-04 17:26:12 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:26:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:26:12 INFO Removing temporary directory /tmp/tmph_355fjd
2022-03-04 17:26:35 INFO cmdtest version 0.32+git starts
2022-03-04 17:26:35 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:26:35 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:26:35 DEBUG uid: 1001
2022-03-04 17:26:35 DEBUG effective uid: 1001
2022-03-04 17:26:35 DEBUG gid: 1001
2022-03-04 17:26:35 DEBUG effective gid: 1001
2022-03-04 17:26:35 DEBUG environment variables:
2022-03-04 17:26:35 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:26:35 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:26:35 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:26:35 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:26:35 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:26:35 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:26:35 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:26:35 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:26:35 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:26:35 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:26:35 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:26:35 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:26:35 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:26:35 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:26:35 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:26:35 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:26:35 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:26:35 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:26:35 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:26:35 DEBUG environment: WINDOWPATH=3
2022-03-04 17:26:35 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:26:35 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:26:35 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:26:35 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:26:35 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:26:35 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:26:35 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:26:35 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:26:35 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:26:35 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:26:35 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:26:35 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:26:35 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:26:35 DEBUG environment: TERM=xterm-256color
2022-03-04 17:26:35 DEBUG environment: USER=chrisshepherd
2022-03-04 17:26:35 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:26:35 DEBUG environment: DISPLAY=:0
2022-03-04 17:26:35 DEBUG environment: SHLVL=2
2022-03-04 17:26:35 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:26:35 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:26:35 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:26:35 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:26:35 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:26:35 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:26:35 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:26:35 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:26:35 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:26:35 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:26:35 INFO Temporary directory /tmp/tmp5mhdexug
2022-03-04 17:26:35 DEBUG run_script: test_name= script_name=None
2022-03-04 17:26:35 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:35 INFO Test case: one_file_db
2022-03-04 17:26:35 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:26:35 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:26:35 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:26:35 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:35 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:26:35 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:26:35 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:26:35.912786199 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:26:35 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:26:35.940787224 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    db.main.add_recursively(,TRUE)
+                            ^
+SyntaxError: invalid syntax

2022-03-04 17:26:35 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:26:35 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:26:35 DEBUG run_script: test_name= script_name=None
2022-03-04 17:26:35 INFO Removing temporary directory /tmp/tmp5mhdexug
2022-03-04 17:27:31 INFO cmdtest version 0.32+git starts
2022-03-04 17:27:31 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:27:31 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:27:31 DEBUG uid: 1001
2022-03-04 17:27:31 DEBUG effective uid: 1001
2022-03-04 17:27:31 DEBUG gid: 1001
2022-03-04 17:27:31 DEBUG effective gid: 1001
2022-03-04 17:27:31 DEBUG environment variables:
2022-03-04 17:27:31 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:27:31 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:27:31 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:27:31 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:27:31 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:27:31 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:27:31 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:27:31 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:27:31 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:27:31 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:27:31 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:27:31 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:27:31 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:27:31 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:27:31 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:27:31 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:27:31 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:27:31 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:27:31 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:27:31 DEBUG environment: WINDOWPATH=3
2022-03-04 17:27:31 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:27:31 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:27:31 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:27:31 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:27:31 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:27:31 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:27:31 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:27:31 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:27:31 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:27:31 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:27:31 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:27:31 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:27:31 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:27:31 DEBUG environment: TERM=xterm-256color
2022-03-04 17:27:31 DEBUG environment: USER=chrisshepherd
2022-03-04 17:27:31 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:27:31 DEBUG environment: DISPLAY=:0
2022-03-04 17:27:31 DEBUG environment: SHLVL=2
2022-03-04 17:27:31 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:27:31 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:27:31 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:27:31 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:27:31 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:27:31 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:27:31 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:27:31 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:27:31 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:27:31 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:27:31 INFO Temporary directory /tmp/tmp2u9wnvlv
2022-03-04 17:27:31 DEBUG run_script: test_name= script_name=None
2022-03-04 17:27:31 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:31 INFO Test case: one_file_db
2022-03-04 17:27:31 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:27:31 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:27:31 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:27:31 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:31 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:27:31 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:27:31 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:27:31.194810387 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:27:31 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:27:31.222811413 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    db.main.add_recursively(/tmp/tmp2u9wnvlv/data/root,TRUE)
+                            ^
+SyntaxError: invalid syntax

2022-03-04 17:27:31 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:27:31 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:31 DEBUG run_script: test_name= script_name=None
2022-03-04 17:27:31 INFO Removing temporary directory /tmp/tmp2u9wnvlv
2022-03-04 17:27:55 INFO cmdtest version 0.32+git starts
2022-03-04 17:27:55 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:27:55 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:27:55 DEBUG uid: 1001
2022-03-04 17:27:55 DEBUG effective uid: 1001
2022-03-04 17:27:55 DEBUG gid: 1001
2022-03-04 17:27:55 DEBUG effective gid: 1001
2022-03-04 17:27:55 DEBUG environment variables:
2022-03-04 17:27:55 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:27:55 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:27:55 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:27:55 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:27:55 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:27:55 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:27:55 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:27:55 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:27:55 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:27:55 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:27:55 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:27:55 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:27:55 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:27:55 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:27:55 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:27:55 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:27:55 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:27:55 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:27:55 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:27:55 DEBUG environment: WINDOWPATH=3
2022-03-04 17:27:55 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:27:55 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:27:55 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:27:55 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:27:55 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:27:55 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:27:55 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:27:55 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:27:55 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:27:55 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:27:55 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:27:55 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:27:55 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:27:55 DEBUG environment: TERM=xterm-256color
2022-03-04 17:27:55 DEBUG environment: USER=chrisshepherd
2022-03-04 17:27:55 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:27:55 DEBUG environment: DISPLAY=:0
2022-03-04 17:27:55 DEBUG environment: SHLVL=2
2022-03-04 17:27:55 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:27:55 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:27:55 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:27:55 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:27:55 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:27:55 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:27:55 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:27:55 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:27:55 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:27:55 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:27:55 INFO Temporary directory /tmp/tmpoocvqu_e
2022-03-04 17:27:55 DEBUG run_script: test_name= script_name=None
2022-03-04 17:27:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:55 INFO Test case: one_file_db
2022-03-04 17:27:55 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:27:55 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:27:55 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:27:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:55 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:27:55 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:27:55 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:27:55.847713333 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:27:55 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:27:55.879714505 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db' is not defined

2022-03-04 17:27:55 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:27:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:27:55 DEBUG run_script: test_name= script_name=None
2022-03-04 17:27:55 INFO Removing temporary directory /tmp/tmpoocvqu_e
2022-03-04 17:28:37 INFO cmdtest version 0.32+git starts
2022-03-04 17:28:37 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:28:37 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:28:37 DEBUG uid: 1001
2022-03-04 17:28:37 DEBUG effective uid: 1001
2022-03-04 17:28:37 DEBUG gid: 1001
2022-03-04 17:28:37 DEBUG effective gid: 1001
2022-03-04 17:28:37 DEBUG environment variables:
2022-03-04 17:28:37 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:28:37 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:28:37 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:28:37 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:28:37 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:28:37 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:28:37 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:28:37 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:28:37 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:28:37 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:28:37 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:28:37 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:28:37 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:28:37 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:28:37 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:28:37 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:28:37 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:28:37 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:28:37 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:28:37 DEBUG environment: WINDOWPATH=3
2022-03-04 17:28:37 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:28:37 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:28:37 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:28:37 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:28:37 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:28:37 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:28:37 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:28:37 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:28:37 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:28:37 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:28:37 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:28:37 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:28:37 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:28:37 DEBUG environment: TERM=xterm-256color
2022-03-04 17:28:37 DEBUG environment: USER=chrisshepherd
2022-03-04 17:28:37 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:28:37 DEBUG environment: DISPLAY=:0
2022-03-04 17:28:37 DEBUG environment: SHLVL=2
2022-03-04 17:28:37 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:28:37 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:28:37 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:28:37 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:28:37 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:28:37 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:28:37 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:28:37 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:28:37 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:28:37 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:28:37 INFO Temporary directory /tmp/tmpdt17t4br
2022-03-04 17:28:37 DEBUG run_script: test_name= script_name=None
2022-03-04 17:28:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:28:37 INFO Test case: one_file_db
2022-03-04 17:28:37 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:28:37 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:28:37 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:28:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:28:37 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:28:37 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:28:37 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:28:37.009221190 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:28:37 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:28:37.041222362 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    db.main.add_recursively(/tmp/tmpdt17t4br/data/root,TRUE)
+                            ^
+SyntaxError: invalid syntax

2022-03-04 17:28:37 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:28:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:28:37 DEBUG run_script: test_name= script_name=None
2022-03-04 17:28:37 INFO Removing temporary directory /tmp/tmpdt17t4br
2022-03-04 17:29:07 INFO cmdtest version 0.32+git starts
2022-03-04 17:29:07 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:29:07 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:29:07 DEBUG uid: 1001
2022-03-04 17:29:07 DEBUG effective uid: 1001
2022-03-04 17:29:07 DEBUG gid: 1001
2022-03-04 17:29:07 DEBUG effective gid: 1001
2022-03-04 17:29:07 DEBUG environment variables:
2022-03-04 17:29:07 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:29:07 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:29:07 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:29:07 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:29:07 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:29:07 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:29:07 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:29:07 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:29:07 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:29:07 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:29:07 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:29:07 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:29:07 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:29:07 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:29:07 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:29:07 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:29:07 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:29:07 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:29:07 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:29:07 DEBUG environment: WINDOWPATH=3
2022-03-04 17:29:07 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:29:07 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:29:07 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:29:07 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:29:07 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:29:07 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:29:07 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:29:07 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:29:07 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:29:07 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:29:07 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:29:07 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:29:07 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:29:07 DEBUG environment: TERM=xterm-256color
2022-03-04 17:29:07 DEBUG environment: USER=chrisshepherd
2022-03-04 17:29:07 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:29:07 DEBUG environment: DISPLAY=:0
2022-03-04 17:29:07 DEBUG environment: SHLVL=2
2022-03-04 17:29:07 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:29:07 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:29:07 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:29:07 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:29:07 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:29:07 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:29:07 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:29:07 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:29:07 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:29:07 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:29:07 INFO Temporary directory /tmp/tmpraai5ltn
2022-03-04 17:29:07 DEBUG run_script: test_name= script_name=None
2022-03-04 17:29:07 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:07 INFO Test case: one_file_db
2022-03-04 17:29:07 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:29:07 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:29:07 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:29:07 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:07 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:29:07 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:29:07 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:29:07.262329606 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:29:07 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:29:07.294330780 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db' is not defined

2022-03-04 17:29:07 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:29:07 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:07 DEBUG run_script: test_name= script_name=None
2022-03-04 17:29:07 INFO Removing temporary directory /tmp/tmpraai5ltn
2022-03-04 17:29:30 INFO cmdtest version 0.32+git starts
2022-03-04 17:29:30 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:29:30 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:29:30 DEBUG uid: 1001
2022-03-04 17:29:30 DEBUG effective uid: 1001
2022-03-04 17:29:30 DEBUG gid: 1001
2022-03-04 17:29:30 DEBUG effective gid: 1001
2022-03-04 17:29:30 DEBUG environment variables:
2022-03-04 17:29:30 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:29:30 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:29:30 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:29:30 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:29:30 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:29:30 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:29:30 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:29:30 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:29:30 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:29:30 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:29:30 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:29:30 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:29:30 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:29:30 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:29:30 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:29:30 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:29:30 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:29:30 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:29:30 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:29:30 DEBUG environment: WINDOWPATH=3
2022-03-04 17:29:30 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:29:30 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:29:30 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:29:30 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:29:30 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:29:30 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:29:30 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:29:30 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:29:30 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:29:30 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:29:30 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:29:30 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:29:30 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:29:30 DEBUG environment: TERM=xterm-256color
2022-03-04 17:29:30 DEBUG environment: USER=chrisshepherd
2022-03-04 17:29:30 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:29:30 DEBUG environment: DISPLAY=:0
2022-03-04 17:29:30 DEBUG environment: SHLVL=2
2022-03-04 17:29:30 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:29:30 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:29:30 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:29:30 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:29:30 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:29:30 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:29:30 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:29:30 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:29:30 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:29:30 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:29:30 INFO Temporary directory /tmp/tmppi4xuvj9
2022-03-04 17:29:30 DEBUG run_script: test_name= script_name=None
2022-03-04 17:29:30 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:30 INFO Test case: one_file_db
2022-03-04 17:29:30 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:29:30 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:29:30 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:29:30 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:30 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:29:30 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:29:30 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:29:30.367176197 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:29:30 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:29:30.399177369 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db' is not defined

2022-03-04 17:29:30 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:29:30 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:29:30 DEBUG run_script: test_name= script_name=None
2022-03-04 17:29:30 INFO Removing temporary directory /tmp/tmppi4xuvj9
2022-03-04 17:30:11 INFO cmdtest version 0.32+git starts
2022-03-04 17:30:11 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:30:11 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:30:11 DEBUG uid: 1001
2022-03-04 17:30:11 DEBUG effective uid: 1001
2022-03-04 17:30:11 DEBUG gid: 1001
2022-03-04 17:30:11 DEBUG effective gid: 1001
2022-03-04 17:30:11 DEBUG environment variables:
2022-03-04 17:30:11 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:30:11 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:30:11 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:30:11 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:30:11 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:30:11 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:30:11 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:30:11 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:30:11 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:30:11 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:30:11 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:30:11 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:30:11 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:30:11 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:30:11 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:30:11 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:30:11 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:30:11 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:30:11 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:30:11 DEBUG environment: WINDOWPATH=3
2022-03-04 17:30:11 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:30:11 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:30:11 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:30:11 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:30:11 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:30:11 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:30:11 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:30:11 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:30:11 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:30:11 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:30:11 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:30:11 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:30:11 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:30:11 DEBUG environment: TERM=xterm-256color
2022-03-04 17:30:11 DEBUG environment: USER=chrisshepherd
2022-03-04 17:30:11 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:30:11 DEBUG environment: DISPLAY=:0
2022-03-04 17:30:11 DEBUG environment: SHLVL=2
2022-03-04 17:30:11 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:30:11 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:30:11 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:30:11 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:30:11 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:30:11 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:30:11 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:30:11 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:30:11 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:30:11 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:30:11 INFO Temporary directory /tmp/tmphb3w_3vs
2022-03-04 17:30:11 DEBUG run_script: test_name= script_name=None
2022-03-04 17:30:11 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:11 INFO Test case: one_file_db
2022-03-04 17:30:11 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:30:11 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:30:11 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:30:11 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:11 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:30:11 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:30:11 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:30:11.448681596 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:30:11 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:30:11.476682622 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db' is not defined

2022-03-04 17:30:11 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:30:11 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:11 DEBUG run_script: test_name= script_name=None
2022-03-04 17:30:11 INFO Removing temporary directory /tmp/tmphb3w_3vs
2022-03-04 17:30:45 INFO cmdtest version 0.32+git starts
2022-03-04 17:30:45 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:30:45 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:30:45 DEBUG uid: 1001
2022-03-04 17:30:45 DEBUG effective uid: 1001
2022-03-04 17:30:45 DEBUG gid: 1001
2022-03-04 17:30:45 DEBUG effective gid: 1001
2022-03-04 17:30:45 DEBUG environment variables:
2022-03-04 17:30:45 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:30:45 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:30:45 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:30:45 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:30:45 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:30:45 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:30:45 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:30:45 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:30:45 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:30:45 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:30:45 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:30:45 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:30:45 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:30:45 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:30:45 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:30:45 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:30:45 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:30:45 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:30:45 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:30:45 DEBUG environment: WINDOWPATH=3
2022-03-04 17:30:45 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:30:45 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:30:45 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:30:45 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:30:45 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:30:45 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:30:45 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:30:45 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:30:45 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:30:45 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:30:45 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:30:45 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:30:45 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:30:45 DEBUG environment: TERM=xterm-256color
2022-03-04 17:30:45 DEBUG environment: USER=chrisshepherd
2022-03-04 17:30:45 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:30:45 DEBUG environment: DISPLAY=:0
2022-03-04 17:30:45 DEBUG environment: SHLVL=2
2022-03-04 17:30:45 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:30:45 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:30:45 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:30:45 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:30:45 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:30:45 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:30:45 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:30:45 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:30:45 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:30:45 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:30:45 INFO Temporary directory /tmp/tmpd4r8uebr
2022-03-04 17:30:45 DEBUG run_script: test_name= script_name=None
2022-03-04 17:30:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:45 INFO Test case: one_file_db
2022-03-04 17:30:45 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:30:45 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:30:45 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:30:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:45 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:30:45 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:30:45 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:30:45.385925291 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:30:45 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:30:45.413926317 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db_main' is not defined

2022-03-04 17:30:45 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:30:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:30:45 DEBUG run_script: test_name= script_name=None
2022-03-04 17:30:45 INFO Removing temporary directory /tmp/tmpd4r8uebr
2022-03-04 17:31:18 INFO cmdtest version 0.32+git starts
2022-03-04 17:31:18 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:31:18 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:31:18 DEBUG uid: 1001
2022-03-04 17:31:18 DEBUG effective uid: 1001
2022-03-04 17:31:18 DEBUG gid: 1001
2022-03-04 17:31:18 DEBUG effective gid: 1001
2022-03-04 17:31:18 DEBUG environment variables:
2022-03-04 17:31:18 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:31:18 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:31:18 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:31:18 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:31:18 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:31:18 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:31:18 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:31:18 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:31:18 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:31:18 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:31:18 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:31:18 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:31:18 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:31:18 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:31:18 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:31:18 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:31:18 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:31:18 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:31:18 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:31:18 DEBUG environment: WINDOWPATH=3
2022-03-04 17:31:18 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:31:18 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:31:18 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:31:18 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:31:18 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:31:18 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:31:18 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:31:18 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:31:18 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:31:18 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:31:18 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:31:18 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:31:18 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:31:18 DEBUG environment: TERM=xterm-256color
2022-03-04 17:31:18 DEBUG environment: USER=chrisshepherd
2022-03-04 17:31:18 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:31:18 DEBUG environment: DISPLAY=:0
2022-03-04 17:31:18 DEBUG environment: SHLVL=2
2022-03-04 17:31:18 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:31:18 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:31:18 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:31:18 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:31:18 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:31:18 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:31:18 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:31:18 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:31:18 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:31:18 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:31:18 INFO Temporary directory /tmp/tmp82a1bez5
2022-03-04 17:31:18 DEBUG run_script: test_name= script_name=None
2022-03-04 17:31:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:31:18 INFO Test case: one_file_db
2022-03-04 17:31:18 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:31:18 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:31:18 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:31:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:31:18 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:31:18 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:31:18 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:31:18.279130784 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:31:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:31:18 DEBUG run_script: test_name= script_name=None
2022-03-04 17:31:18 INFO Removing temporary directory /tmp/tmp82a1bez5
2022-03-04 17:32:06 INFO cmdtest version 0.32+git starts
2022-03-04 17:32:06 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:32:06 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:32:06 DEBUG uid: 1001
2022-03-04 17:32:06 DEBUG effective uid: 1001
2022-03-04 17:32:06 DEBUG gid: 1001
2022-03-04 17:32:06 DEBUG effective gid: 1001
2022-03-04 17:32:06 DEBUG environment variables:
2022-03-04 17:32:06 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:32:06 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:32:06 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:32:06 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:32:06 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:32:06 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:32:06 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:32:06 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:32:06 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:32:06 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:32:06 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:32:06 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:32:06 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:32:06 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:32:06 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:32:06 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:32:06 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:32:06 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:32:06 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:32:06 DEBUG environment: WINDOWPATH=3
2022-03-04 17:32:06 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:32:06 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:32:06 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:32:06 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:32:06 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:32:06 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:32:06 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:32:06 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:32:06 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:32:06 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:32:06 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:32:06 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:32:06 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:32:06 DEBUG environment: TERM=xterm-256color
2022-03-04 17:32:06 DEBUG environment: USER=chrisshepherd
2022-03-04 17:32:06 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:32:06 DEBUG environment: DISPLAY=:0
2022-03-04 17:32:06 DEBUG environment: SHLVL=2
2022-03-04 17:32:06 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:32:06 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:32:06 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:32:06 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:32:06 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:32:06 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:32:06 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:32:06 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:32:06 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:32:06 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:32:06 INFO Temporary directory /tmp/tmpbphquxbx
2022-03-04 17:32:06 DEBUG run_script: test_name= script_name=None
2022-03-04 17:32:06 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:06 INFO Test case: one_file_db
2022-03-04 17:32:06 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:32:06 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:32:06 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:32:06 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:06 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:32:06 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:32:06 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:32:06.404894607 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:32:06 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:06 DEBUG run_script: test_name= script_name=None
2022-03-04 17:32:06 INFO Removing temporary directory /tmp/tmpbphquxbx
2022-03-04 17:32:21 INFO cmdtest version 0.32+git starts
2022-03-04 17:32:21 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:32:21 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:32:21 DEBUG uid: 1001
2022-03-04 17:32:21 DEBUG effective uid: 1001
2022-03-04 17:32:21 DEBUG gid: 1001
2022-03-04 17:32:21 DEBUG effective gid: 1001
2022-03-04 17:32:21 DEBUG environment variables:
2022-03-04 17:32:21 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:32:21 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:32:21 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:32:21 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:32:21 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:32:21 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:32:21 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:32:21 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:32:21 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:32:21 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:32:21 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:32:21 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:32:21 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:32:21 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:32:21 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:32:21 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:32:21 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:32:21 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:32:21 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:32:21 DEBUG environment: WINDOWPATH=3
2022-03-04 17:32:21 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:32:21 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:32:21 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:32:21 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:32:21 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:32:21 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:32:21 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:32:21 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:32:21 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:32:21 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:32:21 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:32:21 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:32:21 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:32:21 DEBUG environment: TERM=xterm-256color
2022-03-04 17:32:21 DEBUG environment: USER=chrisshepherd
2022-03-04 17:32:21 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:32:21 DEBUG environment: DISPLAY=:0
2022-03-04 17:32:21 DEBUG environment: SHLVL=2
2022-03-04 17:32:21 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:32:21 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:32:21 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:32:21 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:32:21 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:32:21 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:32:21 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:32:21 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:32:21 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:32:21 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:32:21 INFO Temporary directory /tmp/tmpcjgeej30
2022-03-04 17:32:21 DEBUG run_script: test_name= script_name=None
2022-03-04 17:32:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:21 INFO Test case: one_file_db
2022-03-04 17:32:21 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:32:21 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:32:21 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:32:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:21 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:32:21 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:32:21 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:32:21.081432519 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:32:21 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:32:21.125434133 +0000
@@ -0,0 +1,3 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+NameError: name 'db_main' is not defined

2022-03-04 17:32:21 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:32:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:32:21 DEBUG run_script: test_name= script_name=None
2022-03-04 17:32:21 INFO Removing temporary directory /tmp/tmpcjgeej30
2022-03-04 17:34:02 INFO cmdtest version 0.32+git starts
2022-03-04 17:34:02 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:34:02 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:02 DEBUG uid: 1001
2022-03-04 17:34:02 DEBUG effective uid: 1001
2022-03-04 17:34:02 DEBUG gid: 1001
2022-03-04 17:34:02 DEBUG effective gid: 1001
2022-03-04 17:34:02 DEBUG environment variables:
2022-03-04 17:34:02 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:34:02 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:34:02 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:34:02 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:34:02 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:34:02 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:34:02 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:34:02 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:34:02 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:34:02 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:34:02 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:34:02 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:34:02 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:02 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:34:02 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:34:02 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:34:02 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:34:02 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:34:02 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:34:02 DEBUG environment: WINDOWPATH=3
2022-03-04 17:34:02 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:34:02 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:34:02 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:34:02 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:34:02 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:34:02 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:34:02 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:34:02 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:34:02 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:34:02 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:34:02 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:34:02 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:34:02 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:34:02 DEBUG environment: TERM=xterm-256color
2022-03-04 17:34:02 DEBUG environment: USER=chrisshepherd
2022-03-04 17:34:02 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:34:02 DEBUG environment: DISPLAY=:0
2022-03-04 17:34:02 DEBUG environment: SHLVL=2
2022-03-04 17:34:02 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:34:02 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:34:02 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:34:02 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:34:02 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:34:02 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:34:02 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:34:02 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:34:02 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:34:02 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:34:02 INFO Temporary directory /tmp/tmp6g_5518e
2022-03-04 17:34:02 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:02 INFO Test case: one_file_db
2022-03-04 17:34:02 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:34:02 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:34:02 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:34:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:02 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:34:02 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:34:02 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:34:02.261141003 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:34:02 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:34:02.269141297 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:34:02 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:34:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:02 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:02 INFO Removing temporary directory /tmp/tmp6g_5518e
2022-03-04 17:34:23 INFO cmdtest version 0.32+git starts
2022-03-04 17:34:23 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:34:23 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:23 DEBUG uid: 1001
2022-03-04 17:34:23 DEBUG effective uid: 1001
2022-03-04 17:34:23 DEBUG gid: 1001
2022-03-04 17:34:23 DEBUG effective gid: 1001
2022-03-04 17:34:23 DEBUG environment variables:
2022-03-04 17:34:23 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:34:23 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:34:23 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:34:23 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:34:23 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:34:23 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:34:23 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:34:23 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:34:23 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:34:23 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:34:23 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:34:23 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:34:23 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:23 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:34:23 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:34:23 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:34:23 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:34:23 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:34:23 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:34:23 DEBUG environment: WINDOWPATH=3
2022-03-04 17:34:23 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:34:23 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:34:23 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:34:23 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:34:23 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:34:23 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:34:23 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:34:23 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:34:23 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:34:23 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:34:23 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:34:23 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:34:23 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:34:23 DEBUG environment: TERM=xterm-256color
2022-03-04 17:34:23 DEBUG environment: USER=chrisshepherd
2022-03-04 17:34:23 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:34:23 DEBUG environment: DISPLAY=:0
2022-03-04 17:34:23 DEBUG environment: SHLVL=2
2022-03-04 17:34:23 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:34:23 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:34:23 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:34:23 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:34:23 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:34:23 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:34:23 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:34:23 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:34:23 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:34:23 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:34:23 INFO Temporary directory /tmp/tmp78lwm514
2022-03-04 17:34:23 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:23 INFO Test case: one_file_db
2022-03-04 17:34:23 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:34:23 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:34:23 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:34:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:23 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:34:23 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:34:23 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:34:23.105905034 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:34:23 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:34:23.113905326 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:34:23 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:34:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:23 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:23 INFO Removing temporary directory /tmp/tmp78lwm514
2022-03-04 17:34:53 INFO cmdtest version 0.32+git starts
2022-03-04 17:34:53 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:34:53 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:53 DEBUG uid: 1001
2022-03-04 17:34:53 DEBUG effective uid: 1001
2022-03-04 17:34:53 DEBUG gid: 1001
2022-03-04 17:34:53 DEBUG effective gid: 1001
2022-03-04 17:34:53 DEBUG environment variables:
2022-03-04 17:34:53 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:34:53 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:34:53 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:34:53 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:34:53 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:34:53 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:34:53 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:34:53 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:34:53 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:34:53 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:34:53 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:34:53 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:34:53 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:34:53 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:34:53 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:34:53 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:34:53 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:34:53 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:34:53 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:34:53 DEBUG environment: WINDOWPATH=3
2022-03-04 17:34:53 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:34:53 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:34:53 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:34:53 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:34:53 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:34:53 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:34:53 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:34:53 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:34:53 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:34:53 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:34:53 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:34:53 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:34:53 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:34:53 DEBUG environment: TERM=xterm-256color
2022-03-04 17:34:53 DEBUG environment: USER=chrisshepherd
2022-03-04 17:34:53 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:34:53 DEBUG environment: DISPLAY=:0
2022-03-04 17:34:53 DEBUG environment: SHLVL=2
2022-03-04 17:34:53 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:34:53 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:34:53 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:34:53 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:34:53 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:34:53 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:34:53 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:34:53 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:34:53 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:34:53 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:34:53 INFO Temporary directory /tmp/tmp2uyjrvd4
2022-03-04 17:34:53 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:53 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:53 INFO Test case: one_file_db
2022-03-04 17:34:53 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:34:53 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:34:53 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:34:53 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:53 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:34:53 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:34:53 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:34:53.895033564 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:34:53 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:34:53.903033858 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:34:53 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:34:53 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:34:53 DEBUG run_script: test_name= script_name=None
2022-03-04 17:34:53 INFO Removing temporary directory /tmp/tmp2uyjrvd4
2022-03-04 17:35:37 INFO cmdtest version 0.32+git starts
2022-03-04 17:35:37 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:35:37 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:35:37 DEBUG uid: 1001
2022-03-04 17:35:37 DEBUG effective uid: 1001
2022-03-04 17:35:37 DEBUG gid: 1001
2022-03-04 17:35:37 DEBUG effective gid: 1001
2022-03-04 17:35:37 DEBUG environment variables:
2022-03-04 17:35:37 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:35:37 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:35:37 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:35:37 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:35:37 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:35:37 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:35:37 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:35:37 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:35:37 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:35:37 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:35:37 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:35:37 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:35:37 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:35:37 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:35:37 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:35:37 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:35:37 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:35:37 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:35:37 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:35:37 DEBUG environment: WINDOWPATH=3
2022-03-04 17:35:37 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:35:37 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:35:37 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:35:37 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:35:37 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:35:37 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:35:37 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:35:37 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:35:37 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:35:37 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:35:37 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:35:37 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:35:37 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:35:37 DEBUG environment: TERM=xterm-256color
2022-03-04 17:35:37 DEBUG environment: USER=chrisshepherd
2022-03-04 17:35:37 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:35:37 DEBUG environment: DISPLAY=:0
2022-03-04 17:35:37 DEBUG environment: SHLVL=2
2022-03-04 17:35:37 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:35:37 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:35:37 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:35:37 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:35:37 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:35:37 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:35:37 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:35:37 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:35:37 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:35:37 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:35:37 INFO Temporary directory /tmp/tmpoexqfhhi
2022-03-04 17:35:37 DEBUG run_script: test_name= script_name=None
2022-03-04 17:35:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:35:37 INFO Test case: one_file_db
2022-03-04 17:35:37 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:35:37 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:35:37 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:35:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:35:37 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:35:37 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:35:37 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:35:37.656637595 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:35:37 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:35:37.664637888 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:35:37 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:35:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:35:37 DEBUG run_script: test_name= script_name=None
2022-03-04 17:35:37 INFO Removing temporary directory /tmp/tmpoexqfhhi
2022-03-04 17:36:33 INFO cmdtest version 0.32+git starts
2022-03-04 17:36:33 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:36:33 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:36:33 DEBUG uid: 1001
2022-03-04 17:36:33 DEBUG effective uid: 1001
2022-03-04 17:36:33 DEBUG gid: 1001
2022-03-04 17:36:33 DEBUG effective gid: 1001
2022-03-04 17:36:33 DEBUG environment variables:
2022-03-04 17:36:33 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:36:33 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:36:33 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:36:33 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:36:33 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:36:33 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:36:33 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:36:33 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:36:33 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:36:33 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:36:33 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:36:33 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:36:33 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:36:33 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:36:33 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:36:33 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:36:33 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:36:33 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:36:33 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:36:33 DEBUG environment: WINDOWPATH=3
2022-03-04 17:36:33 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:36:33 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:36:33 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:36:33 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:36:33 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:36:33 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:36:33 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:36:33 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:36:33 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:36:33 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:36:33 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:36:33 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:36:33 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:36:33 DEBUG environment: TERM=xterm-256color
2022-03-04 17:36:33 DEBUG environment: USER=chrisshepherd
2022-03-04 17:36:33 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:36:33 DEBUG environment: DISPLAY=:0
2022-03-04 17:36:33 DEBUG environment: SHLVL=2
2022-03-04 17:36:33 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:36:33 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:36:33 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:36:33 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:36:33 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:36:33 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:36:33 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:36:33 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:36:33 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:36:33 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:36:33 INFO Temporary directory /tmp/tmp1_qjekw0
2022-03-04 17:36:33 DEBUG run_script: test_name= script_name=None
2022-03-04 17:36:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:33 INFO Test case: one_file_db
2022-03-04 17:36:33 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:36:33 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:36:33 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:36:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:33 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:36:33 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:36:33 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:36:33.070668748 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:36:33 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:36:33.078669041 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:36:33 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:36:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:33 DEBUG run_script: test_name= script_name=None
2022-03-04 17:36:33 INFO Removing temporary directory /tmp/tmp1_qjekw0
2022-03-04 17:36:57 INFO cmdtest version 0.32+git starts
2022-03-04 17:36:57 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:36:57 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:36:57 DEBUG uid: 1001
2022-03-04 17:36:57 DEBUG effective uid: 1001
2022-03-04 17:36:57 DEBUG gid: 1001
2022-03-04 17:36:57 DEBUG effective gid: 1001
2022-03-04 17:36:57 DEBUG environment variables:
2022-03-04 17:36:57 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:36:57 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:36:57 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:36:57 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:36:57 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:36:57 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:36:57 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:36:57 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:36:57 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:36:57 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:36:57 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:36:57 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:36:57 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:36:57 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:36:57 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:36:57 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:36:57 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:36:57 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:36:57 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:36:57 DEBUG environment: WINDOWPATH=3
2022-03-04 17:36:57 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:36:57 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:36:57 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:36:57 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:36:57 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:36:57 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:36:57 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:36:57 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:36:57 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:36:57 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:36:57 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:36:57 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:36:57 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:36:57 DEBUG environment: TERM=xterm-256color
2022-03-04 17:36:57 DEBUG environment: USER=chrisshepherd
2022-03-04 17:36:57 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:36:57 DEBUG environment: DISPLAY=:0
2022-03-04 17:36:57 DEBUG environment: SHLVL=2
2022-03-04 17:36:57 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:36:57 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:36:57 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:36:57 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:36:57 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:36:57 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:36:57 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:36:57 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:36:57 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:36:57 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:36:57 INFO Temporary directory /tmp/tmpka2tyn59
2022-03-04 17:36:57 DEBUG run_script: test_name= script_name=None
2022-03-04 17:36:57 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:57 INFO Test case: one_file_db
2022-03-04 17:36:57 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:36:57 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:36:57 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:36:57 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:57 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:36:57 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:36:57 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:36:57.495564023 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:36:57 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:36:57.499564170 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:36:57 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:36:57 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:36:57 DEBUG run_script: test_name= script_name=None
2022-03-04 17:36:57 INFO Removing temporary directory /tmp/tmpka2tyn59
2022-03-04 17:37:12 INFO cmdtest version 0.32+git starts
2022-03-04 17:37:12 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:37:12 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:37:12 DEBUG uid: 1001
2022-03-04 17:37:12 DEBUG effective uid: 1001
2022-03-04 17:37:12 DEBUG gid: 1001
2022-03-04 17:37:12 DEBUG effective gid: 1001
2022-03-04 17:37:12 DEBUG environment variables:
2022-03-04 17:37:12 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:37:12 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:37:12 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:37:12 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:37:12 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:37:12 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:37:12 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:37:12 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:37:12 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:37:12 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:37:12 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:37:12 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:37:12 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:37:12 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:37:12 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:37:12 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:37:12 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:37:12 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:37:12 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:37:12 DEBUG environment: WINDOWPATH=3
2022-03-04 17:37:12 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:37:12 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:37:12 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:37:12 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:37:12 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:37:12 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:37:12 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:37:12 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:37:12 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:37:12 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:37:12 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:37:12 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:37:12 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:37:12 DEBUG environment: TERM=xterm-256color
2022-03-04 17:37:12 DEBUG environment: USER=chrisshepherd
2022-03-04 17:37:12 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:37:12 DEBUG environment: DISPLAY=:0
2022-03-04 17:37:12 DEBUG environment: SHLVL=2
2022-03-04 17:37:12 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:37:12 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:37:12 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:37:12 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:37:12 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:37:12 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:37:12 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:37:12 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:37:12 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:37:12 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:37:12 INFO Temporary directory /tmp/tmpqmi6y06d
2022-03-04 17:37:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:37:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:12 INFO Test case: one_file_db
2022-03-04 17:37:12 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:37:12 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:37:12 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:37:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:12 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:37:12 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:37:12 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:37:12.416110926 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:37:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:37:12 INFO Removing temporary directory /tmp/tmpqmi6y06d
2022-03-04 17:37:25 INFO cmdtest version 0.32+git starts
2022-03-04 17:37:25 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:37:25 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:37:25 DEBUG uid: 1001
2022-03-04 17:37:25 DEBUG effective uid: 1001
2022-03-04 17:37:25 DEBUG gid: 1001
2022-03-04 17:37:25 DEBUG effective gid: 1001
2022-03-04 17:37:25 DEBUG environment variables:
2022-03-04 17:37:25 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:37:25 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:37:25 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:37:25 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:37:25 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:37:25 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:37:25 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:37:25 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:37:25 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:37:25 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:37:25 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:37:25 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:37:25 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:37:25 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:37:25 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:37:25 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:37:25 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:37:25 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:37:25 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:37:25 DEBUG environment: WINDOWPATH=3
2022-03-04 17:37:25 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:37:25 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:37:25 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:37:25 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:37:25 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:37:25 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:37:25 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:37:25 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:37:25 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:37:25 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:37:25 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:37:25 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:37:25 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:37:25 DEBUG environment: TERM=xterm-256color
2022-03-04 17:37:25 DEBUG environment: USER=chrisshepherd
2022-03-04 17:37:25 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:37:25 DEBUG environment: DISPLAY=:0
2022-03-04 17:37:25 DEBUG environment: SHLVL=2
2022-03-04 17:37:25 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:37:25 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:37:25 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:37:25 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:37:25 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:37:25 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:37:25 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:37:25 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:37:25 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:37:25 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:37:25 INFO Temporary directory /tmp/tmp5lja0_iv
2022-03-04 17:37:25 DEBUG run_script: test_name= script_name=None
2022-03-04 17:37:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:25 INFO Test case: one_file_db
2022-03-04 17:37:25 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:37:25 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:37:25 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:37:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:25 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:37:25 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:37:25 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:37:25.460589064 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:37:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:37:25 DEBUG run_script: test_name= script_name=None
2022-03-04 17:37:25 INFO Removing temporary directory /tmp/tmp5lja0_iv
2022-03-04 17:38:29 INFO cmdtest version 0.32+git starts
2022-03-04 17:38:29 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:38:29 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:38:29 DEBUG uid: 1001
2022-03-04 17:38:29 DEBUG effective uid: 1001
2022-03-04 17:38:29 DEBUG gid: 1001
2022-03-04 17:38:29 DEBUG effective gid: 1001
2022-03-04 17:38:29 DEBUG environment variables:
2022-03-04 17:38:29 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:38:29 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:38:29 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:38:29 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:38:29 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:38:29 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:38:29 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:38:29 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:38:29 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:38:29 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:38:29 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:38:29 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:38:29 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:38:29 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:38:29 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:38:29 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:38:29 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:38:29 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:38:29 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:38:29 DEBUG environment: WINDOWPATH=3
2022-03-04 17:38:29 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:38:29 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:38:29 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:38:29 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:38:29 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:38:29 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:38:29 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:38:29 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:38:29 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:38:29 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:38:29 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:38:29 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:38:29 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:38:29 DEBUG environment: TERM=xterm-256color
2022-03-04 17:38:29 DEBUG environment: USER=chrisshepherd
2022-03-04 17:38:29 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:38:29 DEBUG environment: DISPLAY=:0
2022-03-04 17:38:29 DEBUG environment: SHLVL=2
2022-03-04 17:38:29 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:38:29 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:38:29 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:38:29 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:38:29 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:38:29 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:38:29 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:38:29 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:38:29 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:38:29 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:38:29 INFO Temporary directory /tmp/tmpo1y_17hc
2022-03-04 17:38:29 DEBUG run_script: test_name= script_name=None
2022-03-04 17:38:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:38:29 INFO Test case: one_file_db
2022-03-04 17:38:29 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:38:29 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:38:29 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:38:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:38:29 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:38:29 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:38:29 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:38:29.254927409 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:38:29 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:38:29.294928875 +0000
@@ -0,0 +1 @@
+cat: /tmp/tmpo1y_17hc/data/one_file_db.xml: No such file or directory

2022-03-04 17:38:29 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:38:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:38:29 DEBUG run_script: test_name= script_name=None
2022-03-04 17:38:29 INFO Removing temporary directory /tmp/tmpo1y_17hc
2022-03-04 17:39:15 INFO cmdtest version 0.32+git starts
2022-03-04 17:39:15 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:39:15 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:39:15 DEBUG uid: 1001
2022-03-04 17:39:15 DEBUG effective uid: 1001
2022-03-04 17:39:15 DEBUG gid: 1001
2022-03-04 17:39:15 DEBUG effective gid: 1001
2022-03-04 17:39:15 DEBUG environment variables:
2022-03-04 17:39:15 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:39:15 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:39:15 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:39:15 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:39:15 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:39:15 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:39:15 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:39:15 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:39:15 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:39:15 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:39:15 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:39:15 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:39:15 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:39:15 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:39:15 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:39:15 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:39:15 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:39:15 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:39:15 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:39:15 DEBUG environment: WINDOWPATH=3
2022-03-04 17:39:15 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:39:15 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:39:15 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:39:15 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:39:15 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:39:15 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:39:15 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:39:15 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:39:15 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:39:15 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:39:15 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:39:15 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:39:15 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:39:15 DEBUG environment: TERM=xterm-256color
2022-03-04 17:39:15 DEBUG environment: USER=chrisshepherd
2022-03-04 17:39:15 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:39:15 DEBUG environment: DISPLAY=:0
2022-03-04 17:39:15 DEBUG environment: SHLVL=2
2022-03-04 17:39:15 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:39:15 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:39:15 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:39:15 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:39:15 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:39:15 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:39:15 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:39:15 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:39:15 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:39:15 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:39:15 INFO Temporary directory /tmp/tmpjbvokwmb
2022-03-04 17:39:15 DEBUG run_script: test_name= script_name=None
2022-03-04 17:39:15 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:15 INFO Test case: one_file_db
2022-03-04 17:39:15 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:39:15 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:39:15 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:39:15 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:15 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:39:15 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:39:15 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:39:15.856635571 +0000
@@ -1 +1,14 @@
-"hello\n"
+built_executables
+check
+main_rbr.py
+main_rbr.spec
+one_file_db
+one_file_db.setup
+prelim
+__pycache__
+rbrDatabase.py
+README.md
+requirements.txt
+test_rbrDatabase.spec
+tests
+track.py

2022-03-04 17:39:15 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:39:15.856635571 +0000
@@ -0,0 +1 @@
+cat: /tmp/tmpjbvokwmb/data/one_file_db.xml: No such file or directory

2022-03-04 17:39:15 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:39:15 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:15 DEBUG run_script: test_name= script_name=None
2022-03-04 17:39:15 INFO Removing temporary directory /tmp/tmpjbvokwmb
2022-03-04 17:39:29 INFO cmdtest version 0.32+git starts
2022-03-04 17:39:29 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:39:29 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:39:29 DEBUG uid: 1001
2022-03-04 17:39:29 DEBUG effective uid: 1001
2022-03-04 17:39:29 DEBUG gid: 1001
2022-03-04 17:39:29 DEBUG effective gid: 1001
2022-03-04 17:39:29 DEBUG environment variables:
2022-03-04 17:39:29 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:39:29 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:39:29 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:39:29 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:39:29 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:39:29 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:39:29 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:39:29 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:39:29 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:39:29 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:39:29 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:39:29 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:39:29 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:39:29 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:39:29 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:39:29 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:39:29 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:39:29 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:39:29 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:39:29 DEBUG environment: WINDOWPATH=3
2022-03-04 17:39:29 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:39:29 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:39:29 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:39:29 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:39:29 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:39:29 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:39:29 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:39:29 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:39:29 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:39:29 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:39:29 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:39:29 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:39:29 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:39:29 DEBUG environment: TERM=xterm-256color
2022-03-04 17:39:29 DEBUG environment: USER=chrisshepherd
2022-03-04 17:39:29 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:39:29 DEBUG environment: DISPLAY=:0
2022-03-04 17:39:29 DEBUG environment: SHLVL=2
2022-03-04 17:39:29 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:39:29 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:39:29 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:39:29 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:39:29 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:39:29 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:39:29 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:39:29 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:39:29 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:39:29 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:39:29 INFO Temporary directory /tmp/tmpjvqolb2t
2022-03-04 17:39:29 DEBUG run_script: test_name= script_name=None
2022-03-04 17:39:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:29 INFO Test case: one_file_db
2022-03-04 17:39:29 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:39:29 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:39:29 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:39:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:29 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:39:29 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:39:29 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:39:29.289127934 +0000
@@ -1 +1,14 @@
-"hello\n"
+built_executables
+check
+main_rbr.py
+main_rbr.spec
+one_file_db
+one_file_db.setup
+prelim
+__pycache__
+rbrDatabase.py
+README.md
+requirements.txt
+test_rbrDatabase.spec
+tests
+track.py

2022-03-04 17:39:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:39:29 DEBUG run_script: test_name= script_name=None
2022-03-04 17:39:29 INFO Removing temporary directory /tmp/tmpjvqolb2t
2022-03-04 17:40:50 INFO cmdtest version 0.32+git starts
2022-03-04 17:40:50 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:40:50 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:40:50 DEBUG uid: 1001
2022-03-04 17:40:50 DEBUG effective uid: 1001
2022-03-04 17:40:50 DEBUG gid: 1001
2022-03-04 17:40:50 DEBUG effective gid: 1001
2022-03-04 17:40:50 DEBUG environment variables:
2022-03-04 17:40:50 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:40:50 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:40:50 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:40:50 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:40:50 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:40:50 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:40:50 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:40:50 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:40:50 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:40:50 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:40:50 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:40:50 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:40:50 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:40:50 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:40:50 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:40:50 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:40:50 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:40:50 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:40:50 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:40:50 DEBUG environment: WINDOWPATH=3
2022-03-04 17:40:50 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:40:50 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:40:50 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:40:50 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:40:50 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:40:50 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:40:50 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:40:50 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:40:50 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:40:50 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:40:50 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:40:50 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:40:50 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:40:50 DEBUG environment: TERM=xterm-256color
2022-03-04 17:40:50 DEBUG environment: USER=chrisshepherd
2022-03-04 17:40:50 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:40:50 DEBUG environment: DISPLAY=:0
2022-03-04 17:40:50 DEBUG environment: SHLVL=2
2022-03-04 17:40:50 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:40:50 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:40:50 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:40:50 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:40:50 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:40:50 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:40:50 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:40:50 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:40:50 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:40:50 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:40:50 INFO Temporary directory /tmp/tmpxrj9c6bx
2022-03-04 17:40:50 DEBUG run_script: test_name= script_name=None
2022-03-04 17:40:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:40:50 INFO Test case: one_file_db
2022-03-04 17:40:50 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:40:50 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:40:50 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:40:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:40:50 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:40:50 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:40:50 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:40:50.140091493 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:40:50 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:40:50.148091786 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:40:50 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:40:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:40:50 DEBUG run_script: test_name= script_name=None
2022-03-04 17:40:50 INFO Removing temporary directory /tmp/tmpxrj9c6bx
2022-03-04 17:41:04 INFO cmdtest version 0.32+git starts
2022-03-04 17:41:04 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:41:04 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:41:04 DEBUG uid: 1001
2022-03-04 17:41:04 DEBUG effective uid: 1001
2022-03-04 17:41:04 DEBUG gid: 1001
2022-03-04 17:41:04 DEBUG effective gid: 1001
2022-03-04 17:41:04 DEBUG environment variables:
2022-03-04 17:41:04 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:41:04 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:41:04 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:41:04 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:41:04 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:41:04 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:41:04 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:41:04 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:41:04 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:41:04 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:41:04 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:41:04 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:41:04 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:41:04 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:41:04 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:41:04 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:41:04 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:41:04 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:41:04 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:41:04 DEBUG environment: WINDOWPATH=3
2022-03-04 17:41:04 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:41:04 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:41:04 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:41:04 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:41:04 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:41:04 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:41:04 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:41:04 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:41:04 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:41:04 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:41:04 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:41:04 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:41:04 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:41:04 DEBUG environment: TERM=xterm-256color
2022-03-04 17:41:04 DEBUG environment: USER=chrisshepherd
2022-03-04 17:41:04 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:41:04 DEBUG environment: DISPLAY=:0
2022-03-04 17:41:04 DEBUG environment: SHLVL=2
2022-03-04 17:41:04 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:41:04 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:41:04 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:41:04 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:41:04 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:41:04 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:41:04 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:41:04 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:41:04 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:41:04 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:41:04 INFO Temporary directory /tmp/tmp124lhpfu
2022-03-04 17:41:04 DEBUG run_script: test_name= script_name=None
2022-03-04 17:41:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:41:04 INFO Test case: one_file_db
2022-03-04 17:41:04 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:41:04 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:41:04 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:41:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:41:04 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:41:04 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:41:04 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:41:04.456616259 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:41:04 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:41:04.464616553 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:41:04 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:41:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:41:04 DEBUG run_script: test_name= script_name=None
2022-03-04 17:41:04 INFO Removing temporary directory /tmp/tmp124lhpfu
2022-03-04 17:42:12 INFO cmdtest version 0.32+git starts
2022-03-04 17:42:12 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:42:12 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:12 DEBUG uid: 1001
2022-03-04 17:42:12 DEBUG effective uid: 1001
2022-03-04 17:42:12 DEBUG gid: 1001
2022-03-04 17:42:12 DEBUG effective gid: 1001
2022-03-04 17:42:12 DEBUG environment variables:
2022-03-04 17:42:12 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:42:12 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:42:12 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:42:12 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:42:12 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:42:12 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:42:12 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:42:12 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:42:12 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:42:12 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:42:12 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:42:12 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:42:12 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:12 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:42:12 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:42:12 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:42:12 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:42:12 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:42:12 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:42:12 DEBUG environment: WINDOWPATH=3
2022-03-04 17:42:12 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:42:12 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:42:12 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:42:12 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:42:12 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:42:12 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:42:12 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:42:12 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:42:12 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:42:12 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:42:12 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:42:12 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:42:12 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:42:12 DEBUG environment: TERM=xterm-256color
2022-03-04 17:42:12 DEBUG environment: USER=chrisshepherd
2022-03-04 17:42:12 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:42:12 DEBUG environment: DISPLAY=:0
2022-03-04 17:42:12 DEBUG environment: SHLVL=2
2022-03-04 17:42:12 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:42:12 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:42:12 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:42:12 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:42:12 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:42:12 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:42:12 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:42:12 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:42:12 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:42:12 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:42:12 INFO Temporary directory /tmp/tmp9cka7ofa
2022-03-04 17:42:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:12 INFO Test case: one_file_db
2022-03-04 17:42:12 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:42:12 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:42:12 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:42:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:12 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:42:12 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:42:12 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:42:12.231100508 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:42:12 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:42:12.239100801 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:42:12 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:42:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:12 INFO Removing temporary directory /tmp/tmp9cka7ofa
2022-03-04 17:42:26 INFO cmdtest version 0.32+git starts
2022-03-04 17:42:26 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:42:26 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:26 DEBUG uid: 1001
2022-03-04 17:42:26 DEBUG effective uid: 1001
2022-03-04 17:42:26 DEBUG gid: 1001
2022-03-04 17:42:26 DEBUG effective gid: 1001
2022-03-04 17:42:26 DEBUG environment variables:
2022-03-04 17:42:26 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:42:26 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:42:26 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:42:26 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:42:26 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:42:26 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:42:26 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:42:26 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:42:26 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:42:26 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:42:26 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:42:26 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:42:26 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:26 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:42:26 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:42:26 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:42:26 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:42:26 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:42:26 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:42:26 DEBUG environment: WINDOWPATH=3
2022-03-04 17:42:26 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:42:26 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:42:26 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:42:26 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:42:26 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:42:26 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:42:26 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:42:26 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:42:26 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:42:26 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:42:26 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:42:26 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:42:26 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:42:26 DEBUG environment: TERM=xterm-256color
2022-03-04 17:42:26 DEBUG environment: USER=chrisshepherd
2022-03-04 17:42:26 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:42:26 DEBUG environment: DISPLAY=:0
2022-03-04 17:42:26 DEBUG environment: SHLVL=2
2022-03-04 17:42:26 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:42:26 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:42:26 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:42:26 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:42:26 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:42:26 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:42:26 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:42:26 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:42:26 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:42:26 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:42:26 INFO Temporary directory /tmp/tmpn35qdt5n
2022-03-04 17:42:26 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:26 INFO Test case: one_file_db
2022-03-04 17:42:26 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:42:26 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:42:26 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:42:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:26 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:42:26 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:42:26 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:42:26.139610319 +0000
@@ -1 +0,0 @@
-"hello\n"

2022-03-04 17:42:26 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:42:26.147610612 +0000
@@ -0,0 +1,4 @@
+  File "<string>", line 1
+    import rbrDatabase; db_main =
+                                 ^
+SyntaxError: invalid syntax

2022-03-04 17:42:26 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:42:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:26 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:26 INFO Removing temporary directory /tmp/tmpn35qdt5n
2022-03-04 17:42:38 INFO cmdtest version 0.32+git starts
2022-03-04 17:42:38 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:42:38 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:38 DEBUG uid: 1001
2022-03-04 17:42:38 DEBUG effective uid: 1001
2022-03-04 17:42:38 DEBUG gid: 1001
2022-03-04 17:42:38 DEBUG effective gid: 1001
2022-03-04 17:42:38 DEBUG environment variables:
2022-03-04 17:42:38 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:42:38 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:42:38 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:42:38 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:42:38 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:42:38 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:42:38 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:42:38 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:42:38 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:42:38 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:42:38 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:42:38 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:42:38 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:38 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:42:38 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:42:38 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:42:38 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:42:38 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:42:38 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:42:38 DEBUG environment: WINDOWPATH=3
2022-03-04 17:42:38 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:42:38 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:42:38 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:42:38 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:42:38 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:42:38 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:42:38 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:42:38 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:42:38 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:42:38 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:42:38 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:42:38 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:42:38 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:42:38 DEBUG environment: TERM=xterm-256color
2022-03-04 17:42:38 DEBUG environment: USER=chrisshepherd
2022-03-04 17:42:38 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:42:38 DEBUG environment: DISPLAY=:0
2022-03-04 17:42:38 DEBUG environment: SHLVL=2
2022-03-04 17:42:38 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:42:38 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:42:38 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:42:38 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:42:38 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:42:38 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:42:38 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:42:38 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:42:38 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:42:38 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:42:38 INFO Temporary directory /tmp/tmpeppat7v_
2022-03-04 17:42:38 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:38 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:38 INFO Test case: one_file_db
2022-03-04 17:42:38 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:42:38 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:42:38 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:42:38 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:38 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:42:38 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:42:38 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:42:38.624067932 +0000
@@ -1 +1,14 @@
-"hello\n"
+built_executables
+check
+main_rbr.py
+main_rbr.spec
+one_file_db
+one_file_db.setup
+prelim
+__pycache__
+rbrDatabase.py
+README.md
+requirements.txt
+test_rbrDatabase.spec
+tests
+track.py

2022-03-04 17:42:38 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:38 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:38 INFO Removing temporary directory /tmp/tmpeppat7v_
2022-03-04 17:42:48 INFO cmdtest version 0.32+git starts
2022-03-04 17:42:48 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:42:48 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:48 DEBUG uid: 1001
2022-03-04 17:42:48 DEBUG effective uid: 1001
2022-03-04 17:42:48 DEBUG gid: 1001
2022-03-04 17:42:48 DEBUG effective gid: 1001
2022-03-04 17:42:48 DEBUG environment variables:
2022-03-04 17:42:48 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:42:48 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:42:48 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:42:48 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:42:48 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:42:48 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:42:48 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:42:48 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:42:48 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:42:48 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:42:48 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:42:48 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:42:48 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:42:48 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:42:48 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:42:48 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:42:48 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:42:48 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:42:48 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:42:48 DEBUG environment: WINDOWPATH=3
2022-03-04 17:42:48 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:42:48 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:42:48 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:42:48 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:42:48 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:42:48 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:42:48 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:42:48 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:42:48 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:42:48 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:42:48 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:42:48 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:42:48 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:42:48 DEBUG environment: TERM=xterm-256color
2022-03-04 17:42:48 DEBUG environment: USER=chrisshepherd
2022-03-04 17:42:48 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:42:48 DEBUG environment: DISPLAY=:0
2022-03-04 17:42:48 DEBUG environment: SHLVL=2
2022-03-04 17:42:48 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:42:48 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:42:48 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:42:48 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:42:48 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:42:48 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:42:48 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:42:48 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:42:48 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:42:48 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:42:48 INFO Temporary directory /tmp/tmp7f3wulc0
2022-03-04 17:42:48 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:48 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:48 INFO Test case: one_file_db
2022-03-04 17:42:48 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:42:48 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:42:48 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:42:48 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:48 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:42:48 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:42:48 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:42:48.884444024 +0000
@@ -1 +1,14 @@
-"hello\n"
+built_executables
+check
+main_rbr.py
+main_rbr.spec
+one_file_db
+one_file_db.setup
+prelim
+__pycache__
+rbrDatabase.py
+README.md
+requirements.txt
+test_rbrDatabase.spec
+tests
+track.py

2022-03-04 17:42:48 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 17:42:48.884444024 +0000
@@ -0,0 +1 @@
+cat: /tmp/tmp7f3wulc0/data/one_file_db.xml.xml: No such file or directory

2022-03-04 17:42:48 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 17:42:48 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:42:48 DEBUG run_script: test_name= script_name=None
2022-03-04 17:42:48 INFO Removing temporary directory /tmp/tmp7f3wulc0
2022-03-04 17:43:14 INFO cmdtest version 0.32+git starts
2022-03-04 17:43:14 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:43:14 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:43:14 DEBUG uid: 1001
2022-03-04 17:43:14 DEBUG effective uid: 1001
2022-03-04 17:43:14 DEBUG gid: 1001
2022-03-04 17:43:14 DEBUG effective gid: 1001
2022-03-04 17:43:14 DEBUG environment variables:
2022-03-04 17:43:14 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:43:14 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:43:14 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:43:14 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:43:14 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:43:14 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:43:14 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:43:14 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:43:14 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:43:14 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:43:14 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:43:14 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:43:14 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:43:14 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:43:14 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:43:14 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:43:14 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:43:14 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:43:14 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:43:14 DEBUG environment: WINDOWPATH=3
2022-03-04 17:43:14 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:43:14 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:43:14 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:43:14 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:43:14 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:43:14 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:43:14 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:43:14 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:43:14 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:43:14 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:43:14 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:43:14 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:43:14 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:43:14 DEBUG environment: TERM=xterm-256color
2022-03-04 17:43:14 DEBUG environment: USER=chrisshepherd
2022-03-04 17:43:14 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:43:14 DEBUG environment: DISPLAY=:0
2022-03-04 17:43:14 DEBUG environment: SHLVL=2
2022-03-04 17:43:14 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:43:14 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:43:14 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:43:14 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:43:14 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:43:14 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:43:14 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:43:14 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:43:14 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:43:14 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:43:14 INFO Temporary directory /tmp/tmpxam096l1
2022-03-04 17:43:14 DEBUG run_script: test_name= script_name=None
2022-03-04 17:43:14 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:43:14 INFO Test case: one_file_db
2022-03-04 17:43:14 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:43:14 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:43:14 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:43:14 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:43:14 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:43:14 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:43:14 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:43:14.105368487 +0000
@@ -1 +1,31 @@
-"hello\n"
+built_executables
+check
+main_rbr.py
+main_rbr.spec
+one_file_db
+one_file_db.setup
+prelim
+__pycache__
+rbrDatabase.py
+README.md
+requirements.txt
+test_rbrDatabase.spec
+tests
+track.py
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost//tmp/tmpxam096l1/data/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 17:43:14 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:43:14 DEBUG run_script: test_name= script_name=None
2022-03-04 17:43:14 INFO Removing temporary directory /tmp/tmpxam096l1
2022-03-04 17:45:32 INFO cmdtest version 0.32+git starts
2022-03-04 17:45:32 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:45:32 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:45:32 DEBUG uid: 1001
2022-03-04 17:45:32 DEBUG effective uid: 1001
2022-03-04 17:45:32 DEBUG gid: 1001
2022-03-04 17:45:32 DEBUG effective gid: 1001
2022-03-04 17:45:32 DEBUG environment variables:
2022-03-04 17:45:32 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:45:32 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:45:32 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:45:32 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:45:32 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:45:32 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:45:32 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:45:32 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:45:32 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:45:32 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:45:32 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:45:32 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:45:32 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:45:32 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:45:32 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:45:32 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:45:32 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:45:32 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:45:32 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:45:32 DEBUG environment: WINDOWPATH=3
2022-03-04 17:45:32 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:45:32 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:45:32 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:45:32 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:45:32 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:45:32 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:45:32 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:45:32 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:45:32 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:45:32 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:45:32 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:45:32 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:45:32 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:45:32 DEBUG environment: TERM=xterm-256color
2022-03-04 17:45:32 DEBUG environment: USER=chrisshepherd
2022-03-04 17:45:32 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:45:32 DEBUG environment: DISPLAY=:0
2022-03-04 17:45:32 DEBUG environment: SHLVL=2
2022-03-04 17:45:32 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:45:32 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:45:32 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:45:32 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:45:32 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:45:32 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:45:32 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:45:32 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:45:32 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:45:32 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:45:32 INFO Temporary directory /tmp/tmpz9uyqyph
2022-03-04 17:45:32 DEBUG run_script: test_name= script_name=None
2022-03-04 17:45:32 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:45:32 INFO Test case: one_file_db
2022-03-04 17:45:32 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:45:32 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:45:32 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:46:12 INFO cmdtest version 0.32+git starts
2022-03-04 17:46:12 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:46:12 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:46:12 DEBUG uid: 1001
2022-03-04 17:46:12 DEBUG effective uid: 1001
2022-03-04 17:46:12 DEBUG gid: 1001
2022-03-04 17:46:12 DEBUG effective gid: 1001
2022-03-04 17:46:12 DEBUG environment variables:
2022-03-04 17:46:12 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:46:12 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:46:12 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:46:12 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:46:12 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:46:12 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:46:12 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:46:12 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:46:12 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:46:12 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:46:12 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:46:12 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:46:12 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:46:12 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:46:12 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:46:12 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:46:12 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:46:12 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:46:12 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:46:12 DEBUG environment: WINDOWPATH=3
2022-03-04 17:46:12 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:46:12 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:46:12 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:46:12 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:46:12 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:46:12 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:46:12 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:46:12 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:46:12 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:46:12 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:46:12 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:46:12 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:46:12 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:46:12 DEBUG environment: TERM=xterm-256color
2022-03-04 17:46:12 DEBUG environment: USER=chrisshepherd
2022-03-04 17:46:12 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:46:12 DEBUG environment: DISPLAY=:0
2022-03-04 17:46:12 DEBUG environment: SHLVL=2
2022-03-04 17:46:12 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:46:12 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:46:12 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:46:12 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:46:12 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:46:12 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:46:12 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:46:12 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:46:12 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:46:12 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:46:12 INFO Temporary directory /tmp/tmpfstau_ho
2022-03-04 17:46:12 DEBUG run_script: test_name= script_name=None
2022-03-04 17:46:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:46:12 INFO Test case: one_file_db
2022-03-04 17:46:12 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:46:12 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:46:12 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:47:40 INFO cmdtest version 0.32+git starts
2022-03-04 17:47:40 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:47:40 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:47:40 DEBUG uid: 1001
2022-03-04 17:47:40 DEBUG effective uid: 1001
2022-03-04 17:47:40 DEBUG gid: 1001
2022-03-04 17:47:40 DEBUG effective gid: 1001
2022-03-04 17:47:40 DEBUG environment variables:
2022-03-04 17:47:40 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:47:40 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:47:40 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:47:40 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:47:40 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:47:40 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:47:40 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:47:40 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:47:40 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:47:40 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:47:40 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:47:40 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:47:40 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:47:40 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:47:40 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:47:40 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:47:40 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:47:40 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:47:40 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:47:40 DEBUG environment: WINDOWPATH=3
2022-03-04 17:47:40 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:47:40 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:47:40 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:47:40 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:47:40 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:47:40 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:47:40 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:47:40 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:47:40 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:47:40 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:47:40 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:47:40 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:47:40 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:47:40 DEBUG environment: TERM=xterm-256color
2022-03-04 17:47:40 DEBUG environment: USER=chrisshepherd
2022-03-04 17:47:40 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:47:40 DEBUG environment: DISPLAY=:0
2022-03-04 17:47:40 DEBUG environment: SHLVL=2
2022-03-04 17:47:40 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:47:40 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:47:40 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:47:40 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:47:40 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:47:40 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:47:40 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:47:40 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:47:40 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:47:40 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:47:40 INFO Temporary directory /tmp/tmp4vru339q
2022-03-04 17:47:40 DEBUG run_script: test_name= script_name=None
2022-03-04 17:47:40 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:47:40 INFO Test case: one_file_db
2022-03-04 17:47:40 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:47:40 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:47:40 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:48:04 INFO cmdtest version 0.32+git starts
2022-03-04 17:48:04 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:48:04 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:48:04 DEBUG uid: 1001
2022-03-04 17:48:04 DEBUG effective uid: 1001
2022-03-04 17:48:04 DEBUG gid: 1001
2022-03-04 17:48:04 DEBUG effective gid: 1001
2022-03-04 17:48:04 DEBUG environment variables:
2022-03-04 17:48:04 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:48:04 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:48:04 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:48:04 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:48:04 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:48:04 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:48:04 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:48:04 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:48:04 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:48:04 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:48:04 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:48:04 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:48:04 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:48:04 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:48:04 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:48:04 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:48:04 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:48:04 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:48:04 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:48:04 DEBUG environment: WINDOWPATH=3
2022-03-04 17:48:04 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:48:04 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:48:04 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:48:04 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:48:04 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:48:04 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:48:04 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:48:04 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:48:04 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:48:04 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:48:04 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:48:04 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:48:04 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:48:04 DEBUG environment: TERM=xterm-256color
2022-03-04 17:48:04 DEBUG environment: USER=chrisshepherd
2022-03-04 17:48:04 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:48:04 DEBUG environment: DISPLAY=:0
2022-03-04 17:48:04 DEBUG environment: SHLVL=2
2022-03-04 17:48:04 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:48:04 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:48:04 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:48:04 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:48:04 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:48:04 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:48:04 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:48:04 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:48:04 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:48:04 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:48:04 INFO Temporary directory /tmp/tmpwh3hktcx
2022-03-04 17:48:04 DEBUG run_script: test_name= script_name=None
2022-03-04 17:48:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:48:04 INFO Test case: one_file_db
2022-03-04 17:48:04 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:48:04 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:48:04 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:56:38 INFO cmdtest version 0.32+git starts
2022-03-04 17:56:38 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:56:38 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:56:38 DEBUG uid: 1001
2022-03-04 17:56:38 DEBUG effective uid: 1001
2022-03-04 17:56:38 DEBUG gid: 1001
2022-03-04 17:56:38 DEBUG effective gid: 1001
2022-03-04 17:56:38 DEBUG environment variables:
2022-03-04 17:56:38 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:56:38 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:56:38 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:56:38 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:56:38 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:56:38 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:56:38 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:56:38 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:56:38 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:56:38 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:56:38 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:56:38 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:56:38 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:56:38 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:56:38 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:56:38 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:56:38 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:56:38 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:56:38 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:56:38 DEBUG environment: WINDOWPATH=3
2022-03-04 17:56:38 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:56:38 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:56:38 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:56:38 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:56:38 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:56:38 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:56:38 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:56:38 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:56:38 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:56:38 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:56:38 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:56:38 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:56:38 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:56:38 DEBUG environment: TERM=xterm-256color
2022-03-04 17:56:38 DEBUG environment: USER=chrisshepherd
2022-03-04 17:56:38 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:56:38 DEBUG environment: DISPLAY=:0
2022-03-04 17:56:38 DEBUG environment: SHLVL=2
2022-03-04 17:56:38 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:56:38 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:56:38 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:56:38 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:56:38 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:56:38 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:56:38 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:56:38 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:56:38 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:56:38 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:56:38 INFO Temporary directory /tmp/tmpwf_vnfqr
2022-03-04 17:56:38 DEBUG run_script: test_name= script_name=None
2022-03-04 17:56:38 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:56:38 INFO Test case: one_file_db
2022-03-04 17:56:38 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:56:38 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:56:38 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:56:56 INFO cmdtest version 0.32+git starts
2022-03-04 17:56:56 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:56:56 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:56:56 DEBUG uid: 1001
2022-03-04 17:56:56 DEBUG effective uid: 1001
2022-03-04 17:56:56 DEBUG gid: 1001
2022-03-04 17:56:56 DEBUG effective gid: 1001
2022-03-04 17:56:56 DEBUG environment variables:
2022-03-04 17:56:56 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:56:56 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:56:56 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:56:56 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:56:56 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:56:56 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:56:56 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:56:56 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:56:56 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:56:56 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:56:56 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:56:56 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:56:56 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:56:56 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:56:56 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:56:56 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:56:56 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:56:56 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:56:56 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:56:56 DEBUG environment: WINDOWPATH=3
2022-03-04 17:56:56 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:56:56 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:56:56 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:56:56 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:56:56 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:56:56 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:56:56 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:56:56 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:56:56 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:56:56 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:56:56 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:56:56 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:56:56 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:56:56 DEBUG environment: TERM=xterm-256color
2022-03-04 17:56:56 DEBUG environment: USER=chrisshepherd
2022-03-04 17:56:56 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:56:56 DEBUG environment: DISPLAY=:0
2022-03-04 17:56:56 DEBUG environment: SHLVL=2
2022-03-04 17:56:56 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:56:56 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:56:56 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:56:56 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:56:56 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:56:56 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:56:56 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:56:56 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:56:56 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:56:56 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:56:56 INFO Temporary directory /tmp/tmp8q2ufvtg
2022-03-04 17:56:56 DEBUG run_script: test_name= script_name=None
2022-03-04 17:56:56 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:56:56 INFO Test case: one_file_db
2022-03-04 17:56:56 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:56:56 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:56:56 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:57:27 INFO cmdtest version 0.32+git starts
2022-03-04 17:57:27 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:57:27 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:57:27 DEBUG uid: 1001
2022-03-04 17:57:27 DEBUG effective uid: 1001
2022-03-04 17:57:27 DEBUG gid: 1001
2022-03-04 17:57:27 DEBUG effective gid: 1001
2022-03-04 17:57:27 DEBUG environment variables:
2022-03-04 17:57:27 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:57:27 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:57:27 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:57:27 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:57:27 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:57:27 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:57:27 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:57:27 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:57:27 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:57:27 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:57:27 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:57:27 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:57:27 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:57:27 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:57:27 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:57:27 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:57:27 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:57:27 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:57:27 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:57:27 DEBUG environment: WINDOWPATH=3
2022-03-04 17:57:27 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:57:27 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:57:27 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:57:27 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:57:27 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:57:27 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:57:27 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:57:27 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:57:27 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:57:27 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:57:27 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:57:27 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:57:27 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:57:27 DEBUG environment: TERM=xterm-256color
2022-03-04 17:57:27 DEBUG environment: USER=chrisshepherd
2022-03-04 17:57:27 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:57:27 DEBUG environment: DISPLAY=:0
2022-03-04 17:57:27 DEBUG environment: SHLVL=2
2022-03-04 17:57:27 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:57:27 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:57:27 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:57:27 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:57:27 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:57:27 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:57:27 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:57:27 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:57:27 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:57:27 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:57:27 INFO Temporary directory /tmp/tmp_nfmtikq
2022-03-04 17:57:27 DEBUG run_script: test_name= script_name=None
2022-03-04 17:57:27 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:57:27 INFO Test case: one_file_db
2022-03-04 17:57:27 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:57:27 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:57:27 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:57:50 INFO cmdtest version 0.32+git starts
2022-03-04 17:57:50 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 17:57:50 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:57:50 DEBUG uid: 1001
2022-03-04 17:57:50 DEBUG effective uid: 1001
2022-03-04 17:57:50 DEBUG gid: 1001
2022-03-04 17:57:50 DEBUG effective gid: 1001
2022-03-04 17:57:50 DEBUG environment variables:
2022-03-04 17:57:50 DEBUG environment: SHELL=/bin/bash
2022-03-04 17:57:50 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 17:57:50 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 17:57:50 DEBUG environment: COLORTERM=truecolor
2022-03-04 17:57:50 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 17:57:50 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 17:57:50 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 17:57:50 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 17:57:50 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 17:57:50 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 17:57:50 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 17:57:50 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 17:57:50 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 17:57:50 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 17:57:50 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 17:57:50 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 17:57:50 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 17:57:50 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 17:57:50 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 17:57:50 DEBUG environment: WINDOWPATH=3
2022-03-04 17:57:50 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 17:57:50 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 17:57:50 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 17:57:50 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 17:57:50 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 17:57:50 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 17:57:50 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 17:57:50 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 17:57:50 DEBUG environment: VTE_VERSION=6203
2022-03-04 17:57:50 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 17:57:50 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 17:57:50 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 17:57:50 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 17:57:50 DEBUG environment: TERM=xterm-256color
2022-03-04 17:57:50 DEBUG environment: USER=chrisshepherd
2022-03-04 17:57:50 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 17:57:50 DEBUG environment: DISPLAY=:0
2022-03-04 17:57:50 DEBUG environment: SHLVL=2
2022-03-04 17:57:50 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 17:57:50 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 17:57:50 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 17:57:50 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 17:57:50 DEBUG environment: GDMSESSION=gnome
2022-03-04 17:57:50 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 17:57:50 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 17:57:50 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 17:57:50 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 17:57:50 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 17:57:50 INFO Temporary directory /tmp/tmph9bz0_s3
2022-03-04 17:57:50 DEBUG run_script: test_name= script_name=None
2022-03-04 17:57:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:57:50 INFO Test case: one_file_db
2022-03-04 17:57:50 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 17:57:50 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 17:57:50 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 17:57:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:57:50 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 17:57:50 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 17:57:50 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 17:57:50.949508914 +0000
@@ -1 +1,17 @@
-"hello\n"
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost//tmp/tmph9bz0_s3/data/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 17:57:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 17:57:50 DEBUG run_script: test_name= script_name=None
2022-03-04 17:57:50 INFO Removing temporary directory /tmp/tmph9bz0_s3
2022-03-04 18:39:33 INFO cmdtest version 0.32+git starts
2022-03-04 18:39:33 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:39:33 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:39:33 DEBUG uid: 1001
2022-03-04 18:39:33 DEBUG effective uid: 1001
2022-03-04 18:39:33 DEBUG gid: 1001
2022-03-04 18:39:33 DEBUG effective gid: 1001
2022-03-04 18:39:33 DEBUG environment variables:
2022-03-04 18:39:33 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:39:33 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:39:33 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:39:33 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:39:33 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:39:33 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:39:33 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:39:33 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:39:33 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:39:33 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:39:33 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:39:33 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:39:33 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:39:33 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:39:33 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:39:33 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:39:33 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:39:33 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:39:33 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:39:33 DEBUG environment: WINDOWPATH=3
2022-03-04 18:39:33 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:39:33 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:39:33 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:39:33 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:39:33 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:39:33 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:39:33 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:39:33 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:39:33 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:39:33 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:39:33 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:39:33 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:39:33 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:39:33 DEBUG environment: TERM=xterm-256color
2022-03-04 18:39:33 DEBUG environment: USER=chrisshepherd
2022-03-04 18:39:33 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:39:33 DEBUG environment: DISPLAY=:0
2022-03-04 18:39:33 DEBUG environment: SHLVL=2
2022-03-04 18:39:33 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:39:33 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:39:33 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:39:33 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:39:33 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:39:33 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:39:33 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:39:33 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:39:33 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:39:33 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:39:33 INFO Temporary directory /tmp/tmp50qs1vlc
2022-03-04 18:39:33 DEBUG run_script: test_name= script_name=None
2022-03-04 18:39:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:39:33 INFO Test case: one_file_db
2022-03-04 18:39:33 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:39:33 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:39:33 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:39:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:39:33 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:39:33 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:39:33 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:39:33.565079054 +0000
@@ -1 +1,17 @@
-"hello\n"
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost//tmp/tmp50qs1vlc/data/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 18:39:33 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:39:33 DEBUG run_script: test_name= script_name=None
2022-03-04 18:39:33 INFO Removing temporary directory /tmp/tmp50qs1vlc
2022-03-04 18:40:23 INFO cmdtest version 0.32+git starts
2022-03-04 18:40:23 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:40:23 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:40:23 DEBUG uid: 1001
2022-03-04 18:40:23 DEBUG effective uid: 1001
2022-03-04 18:40:23 DEBUG gid: 1001
2022-03-04 18:40:23 DEBUG effective gid: 1001
2022-03-04 18:40:23 DEBUG environment variables:
2022-03-04 18:40:23 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:40:23 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:40:23 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:40:23 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:40:23 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:40:23 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:40:23 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:40:23 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:40:23 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:40:23 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:40:23 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:40:23 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:40:23 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:40:23 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:40:23 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:40:23 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:40:23 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:40:23 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:40:23 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:40:23 DEBUG environment: WINDOWPATH=3
2022-03-04 18:40:23 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:40:23 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:40:23 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:40:23 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:40:23 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:40:23 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:40:23 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:40:23 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:40:23 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:40:23 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:40:23 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:40:23 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:40:23 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:40:23 DEBUG environment: TERM=xterm-256color
2022-03-04 18:40:23 DEBUG environment: USER=chrisshepherd
2022-03-04 18:40:23 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:40:23 DEBUG environment: DISPLAY=:0
2022-03-04 18:40:23 DEBUG environment: SHLVL=2
2022-03-04 18:40:23 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:40:23 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:40:23 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:40:23 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:40:23 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:40:23 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:40:23 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:40:23 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:40:23 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:40:23 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:40:23 INFO Temporary directory /tmp/tmp02h71e30
2022-03-04 18:40:23 DEBUG run_script: test_name= script_name=None
2022-03-04 18:40:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:40:23 INFO Test case: one_file_db
2022-03-04 18:40:23 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:40:23 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:40:23 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:40:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:40:23 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:40:23 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:40:23 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 10:04:57.643960727 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:40:23.238899831 +0000
@@ -1 +1,17 @@
-"hello\n"
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost//tmp/tmp02h71e30/data/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 18:40:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:40:23 DEBUG run_script: test_name= script_name=None
2022-03-04 18:40:23 INFO Removing temporary directory /tmp/tmp02h71e30
2022-03-04 18:41:54 INFO cmdtest version 0.32+git starts
2022-03-04 18:41:54 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:41:54 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:41:54 DEBUG uid: 1001
2022-03-04 18:41:54 DEBUG effective uid: 1001
2022-03-04 18:41:54 DEBUG gid: 1001
2022-03-04 18:41:54 DEBUG effective gid: 1001
2022-03-04 18:41:54 DEBUG environment variables:
2022-03-04 18:41:54 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:41:54 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:41:54 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:41:54 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:41:54 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:41:54 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:41:54 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:41:54 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:41:54 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:41:54 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:41:54 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:41:54 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:41:54 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:41:54 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:41:54 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:41:54 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:41:54 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:41:54 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:41:54 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:41:54 DEBUG environment: WINDOWPATH=3
2022-03-04 18:41:54 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:41:54 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:41:54 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:41:54 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:41:54 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:41:54 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:41:54 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:41:54 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:41:54 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:41:54 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:41:54 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:41:54 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:41:54 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:41:54 DEBUG environment: TERM=xterm-256color
2022-03-04 18:41:54 DEBUG environment: USER=chrisshepherd
2022-03-04 18:41:54 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:41:54 DEBUG environment: DISPLAY=:0
2022-03-04 18:41:54 DEBUG environment: SHLVL=2
2022-03-04 18:41:54 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:41:54 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:41:54 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:41:54 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:41:54 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:41:54 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:41:54 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:41:54 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:41:54 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:41:54 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:41:54 INFO Temporary directory /tmp/tmp9g4tzxz8
2022-03-04 18:41:54 DEBUG run_script: test_name= script_name=None
2022-03-04 18:41:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:41:54 INFO Test case: one_file_db
2022-03-04 18:41:54 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:41:54 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:41:54 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:41:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:41:54 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:41:54 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:41:54 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:41:54.886259134 +0000
@@ -1 +1,17 @@
-"hello\n $DATADIR"
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost//tmp/tmp9g4tzxz8/data/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 18:41:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:41:54 DEBUG run_script: test_name= script_name=None
2022-03-04 18:41:54 INFO Removing temporary directory /tmp/tmp9g4tzxz8
2022-03-04 18:42:32 INFO cmdtest version 0.32+git starts
2022-03-04 18:42:32 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:42:32 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:42:32 DEBUG uid: 1001
2022-03-04 18:42:32 DEBUG effective uid: 1001
2022-03-04 18:42:32 DEBUG gid: 1001
2022-03-04 18:42:32 DEBUG effective gid: 1001
2022-03-04 18:42:32 DEBUG environment variables:
2022-03-04 18:42:32 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:42:32 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:42:32 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:42:32 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:42:32 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:42:32 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:42:32 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:42:32 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:42:32 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:42:32 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:42:32 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:42:32 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:42:32 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:42:32 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:42:32 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:42:32 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:42:32 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:42:32 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:42:32 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:42:32 DEBUG environment: WINDOWPATH=3
2022-03-04 18:42:32 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:42:32 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:42:32 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:42:32 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:42:32 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:42:32 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:42:32 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:42:32 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:42:32 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:42:32 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:42:32 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:42:32 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:42:32 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:42:32 DEBUG environment: TERM=xterm-256color
2022-03-04 18:42:32 DEBUG environment: USER=chrisshepherd
2022-03-04 18:42:32 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:42:32 DEBUG environment: DISPLAY=:0
2022-03-04 18:42:32 DEBUG environment: SHLVL=2
2022-03-04 18:42:32 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:42:32 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:42:32 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:42:32 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:42:32 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:42:32 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:42:32 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:42:32 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:42:32 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:42:32 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:42:32 INFO Temporary directory /tmp/tmpikxetng0
2022-03-04 18:42:32 DEBUG run_script: test_name= script_name=None
2022-03-04 18:42:32 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:42:32 INFO Test case: one_file_db
2022-03-04 18:42:32 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:42:32 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:42:32 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:42:32 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:42:32 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:42:32 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:42:32 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:42:32.399634175 +0000
@@ -1 +0,0 @@
-"hello\n $DATADIR"

2022-03-04 18:42:32 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 18:42:32.443635787 +0000
@@ -0,0 +1 @@
+sed: -e expression #1, char 8: unknown option to `s'

2022-03-04 18:42:32 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 18:42:32 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:42:32 DEBUG run_script: test_name= script_name=None
2022-03-04 18:42:32 INFO Removing temporary directory /tmp/tmpikxetng0
2022-03-04 18:44:02 INFO cmdtest version 0.32+git starts
2022-03-04 18:44:02 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:44:02 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:44:02 DEBUG uid: 1001
2022-03-04 18:44:02 DEBUG effective uid: 1001
2022-03-04 18:44:02 DEBUG gid: 1001
2022-03-04 18:44:02 DEBUG effective gid: 1001
2022-03-04 18:44:02 DEBUG environment variables:
2022-03-04 18:44:02 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:44:02 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:44:02 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:44:02 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:44:02 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:44:02 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:44:02 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:44:02 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:44:02 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:44:02 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:44:02 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:44:02 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:44:02 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:44:02 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:44:02 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:44:02 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:44:02 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:44:02 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:44:02 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:44:02 DEBUG environment: WINDOWPATH=3
2022-03-04 18:44:02 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:44:02 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:44:02 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:44:02 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:44:02 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:44:02 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:44:02 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:44:02 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:44:02 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:44:02 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:44:02 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:44:02 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:44:02 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:44:02 DEBUG environment: TERM=xterm-256color
2022-03-04 18:44:02 DEBUG environment: USER=chrisshepherd
2022-03-04 18:44:02 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:44:02 DEBUG environment: DISPLAY=:0
2022-03-04 18:44:02 DEBUG environment: SHLVL=2
2022-03-04 18:44:02 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:44:02 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:44:02 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:44:02 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:44:02 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:44:02 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:44:02 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:44:02 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:44:02 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:44:02 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:44:02 INFO Temporary directory /tmp/tmpma97449o
2022-03-04 18:44:02 DEBUG run_script: test_name= script_name=None
2022-03-04 18:44:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:02 INFO Test case: one_file_db
2022-03-04 18:44:02 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:44:02 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:44:02 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:44:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:02 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:44:02 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:44:02 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:44:02.190925446 +0000
@@ -1 +0,0 @@
-"hello\n $DATADIR"

2022-03-04 18:44:02 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 18:44:02.230926912 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 23: Syntax error: Unterminated quoted string

2022-03-04 18:44:02 ERROR FAIL: one_file_db: got exit code 2, expected 0
2022-03-04 18:44:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:02 DEBUG run_script: test_name= script_name=None
2022-03-04 18:44:02 INFO Removing temporary directory /tmp/tmpma97449o
2022-03-04 18:44:45 INFO cmdtest version 0.32+git starts
2022-03-04 18:44:45 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:44:45 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:44:45 DEBUG uid: 1001
2022-03-04 18:44:45 DEBUG effective uid: 1001
2022-03-04 18:44:45 DEBUG gid: 1001
2022-03-04 18:44:45 DEBUG effective gid: 1001
2022-03-04 18:44:45 DEBUG environment variables:
2022-03-04 18:44:45 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:44:45 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:44:45 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:44:45 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:44:45 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:44:45 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:44:45 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:44:45 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:44:45 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:44:45 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:44:45 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:44:45 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:44:45 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:44:45 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:44:45 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:44:45 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:44:45 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:44:45 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:44:45 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:44:45 DEBUG environment: WINDOWPATH=3
2022-03-04 18:44:45 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:44:45 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:44:45 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:44:45 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:44:45 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:44:45 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:44:45 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:44:45 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:44:45 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:44:45 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:44:45 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:44:45 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:44:45 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:44:45 DEBUG environment: TERM=xterm-256color
2022-03-04 18:44:45 DEBUG environment: USER=chrisshepherd
2022-03-04 18:44:45 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:44:45 DEBUG environment: DISPLAY=:0
2022-03-04 18:44:45 DEBUG environment: SHLVL=2
2022-03-04 18:44:45 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:44:45 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:44:45 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:44:45 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:44:45 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:44:45 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:44:45 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:44:45 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:44:45 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:44:45 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:44:45 INFO Temporary directory /tmp/tmp4_4gmcld
2022-03-04 18:44:45 DEBUG run_script: test_name= script_name=None
2022-03-04 18:44:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:45 INFO Test case: one_file_db
2022-03-04 18:44:45 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:44:45 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:44:45 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:44:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:45 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:44:45 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:44:45 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:44:45.368508106 +0000
@@ -1 +0,0 @@
-"hello\n $DATADIR"

2022-03-04 18:44:45 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 18:44:45.408509572 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 23: Syntax error: Unterminated quoted string

2022-03-04 18:44:45 ERROR FAIL: one_file_db: got exit code 2, expected 0
2022-03-04 18:44:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:44:45 DEBUG run_script: test_name= script_name=None
2022-03-04 18:44:45 INFO Removing temporary directory /tmp/tmp4_4gmcld
2022-03-04 18:45:21 INFO cmdtest version 0.32+git starts
2022-03-04 18:45:21 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:45:21 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:45:21 DEBUG uid: 1001
2022-03-04 18:45:21 DEBUG effective uid: 1001
2022-03-04 18:45:21 DEBUG gid: 1001
2022-03-04 18:45:21 DEBUG effective gid: 1001
2022-03-04 18:45:21 DEBUG environment variables:
2022-03-04 18:45:21 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:45:21 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:45:21 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:45:21 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:45:21 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:45:21 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:45:21 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:45:21 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:45:21 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:45:21 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:45:21 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:45:21 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:45:21 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:45:21 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:45:21 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:45:21 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:45:21 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:45:21 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:45:21 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:45:21 DEBUG environment: WINDOWPATH=3
2022-03-04 18:45:21 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:45:21 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:45:21 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:45:21 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:45:21 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:45:21 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:45:21 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:45:21 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:45:21 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:45:21 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:45:21 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:45:21 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:45:21 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:45:21 DEBUG environment: TERM=xterm-256color
2022-03-04 18:45:21 DEBUG environment: USER=chrisshepherd
2022-03-04 18:45:21 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:45:21 DEBUG environment: DISPLAY=:0
2022-03-04 18:45:21 DEBUG environment: SHLVL=2
2022-03-04 18:45:21 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:45:21 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:45:21 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:45:21 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:45:21 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:45:21 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:45:21 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:45:21 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:45:21 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:45:21 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:45:21 INFO Temporary directory /tmp/tmp1ak0lv_1
2022-03-04 18:45:21 DEBUG run_script: test_name= script_name=None
2022-03-04 18:45:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:45:21 INFO Test case: one_file_db
2022-03-04 18:45:21 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:45:21 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:45:21 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:45:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:45:21 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:45:21 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:45:21 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:45:21.945848835 +0000
@@ -1 +0,0 @@
-"hello\n $DATADIR"

2022-03-04 18:45:21 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 18:45:21.989850448 +0000
@@ -0,0 +1 @@
+sed: -e expression #1, char 8: unknown option to `s'

2022-03-04 18:45:21 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 18:45:21 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:45:21 DEBUG run_script: test_name= script_name=None
2022-03-04 18:45:21 INFO Removing temporary directory /tmp/tmp1ak0lv_1
2022-03-04 18:46:18 INFO cmdtest version 0.32+git starts
2022-03-04 18:46:18 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:46:18 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:46:18 DEBUG uid: 1001
2022-03-04 18:46:18 DEBUG effective uid: 1001
2022-03-04 18:46:18 DEBUG gid: 1001
2022-03-04 18:46:18 DEBUG effective gid: 1001
2022-03-04 18:46:18 DEBUG environment variables:
2022-03-04 18:46:18 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:46:18 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:46:18 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:46:18 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:46:18 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:46:18 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:46:18 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:46:18 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:46:18 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:46:18 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:46:18 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:46:18 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:46:18 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:46:18 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:46:18 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:46:18 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:46:18 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:46:18 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:46:18 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:46:18 DEBUG environment: WINDOWPATH=3
2022-03-04 18:46:18 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:46:18 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:46:18 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:46:18 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:46:18 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:46:18 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:46:18 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:46:18 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:46:18 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:46:18 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:46:18 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:46:18 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:46:18 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:46:18 DEBUG environment: TERM=xterm-256color
2022-03-04 18:46:18 DEBUG environment: USER=chrisshepherd
2022-03-04 18:46:18 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:46:18 DEBUG environment: DISPLAY=:0
2022-03-04 18:46:18 DEBUG environment: SHLVL=2
2022-03-04 18:46:18 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:46:18 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:46:18 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:46:18 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:46:18 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:46:18 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:46:18 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:46:18 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:46:18 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:46:18 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:46:18 INFO Temporary directory /tmp/tmplg0hquma
2022-03-04 18:46:18 DEBUG run_script: test_name= script_name=None
2022-03-04 18:46:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:18 INFO Test case: one_file_db
2022-03-04 18:46:18 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:46:18 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:46:18 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:46:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:18 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:46:18 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:46:18 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:46:18.679928404 +0000
@@ -1 +0,0 @@
-"hello\n $DATADIR"

2022-03-04 18:46:18 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-04 18:46:18.719929870 +0000
@@ -0,0 +1 @@
+sed: -e expression #1, char 8: unknown option to `s'

2022-03-04 18:46:18 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-04 18:46:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:18 DEBUG run_script: test_name= script_name=None
2022-03-04 18:46:18 INFO Removing temporary directory /tmp/tmplg0hquma
2022-03-04 18:46:39 INFO cmdtest version 0.32+git starts
2022-03-04 18:46:39 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:46:39 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:46:39 DEBUG uid: 1001
2022-03-04 18:46:39 DEBUG effective uid: 1001
2022-03-04 18:46:39 DEBUG gid: 1001
2022-03-04 18:46:39 DEBUG effective gid: 1001
2022-03-04 18:46:39 DEBUG environment variables:
2022-03-04 18:46:39 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:46:39 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:46:39 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:46:39 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:46:39 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:46:39 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:46:39 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:46:39 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:46:39 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:46:39 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:46:39 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:46:39 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:46:39 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:46:39 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:46:39 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:46:39 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:46:39 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:46:39 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:46:39 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:46:39 DEBUG environment: WINDOWPATH=3
2022-03-04 18:46:39 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:46:39 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:46:39 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:46:39 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:46:39 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:46:39 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:46:39 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:46:39 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:46:39 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:46:39 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:46:39 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:46:39 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:46:39 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:46:39 DEBUG environment: TERM=xterm-256color
2022-03-04 18:46:39 DEBUG environment: USER=chrisshepherd
2022-03-04 18:46:39 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:46:39 DEBUG environment: DISPLAY=:0
2022-03-04 18:46:39 DEBUG environment: SHLVL=2
2022-03-04 18:46:39 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:46:39 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:46:39 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:46:39 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:46:39 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:46:39 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:46:39 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:46:39 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:46:39 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:46:39 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:46:39 INFO Temporary directory /tmp/tmpo81a3xy_
2022-03-04 18:46:39 DEBUG run_script: test_name= script_name=None
2022-03-04 18:46:39 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:39 INFO Test case: one_file_db
2022-03-04 18:46:39 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:46:39 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:46:39 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:46:39 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:39 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:46:39 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:46:39 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:40:49.343856699 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:46:39.548693342 +0000
@@ -1 +1,17 @@
-"hello\n $DATADIR"
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 18:46:39 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:46:39 DEBUG run_script: test_name= script_name=None
2022-03-04 18:46:39 INFO Removing temporary directory /tmp/tmpo81a3xy_
2022-03-04 18:48:00 INFO cmdtest version 0.32+git starts
2022-03-04 18:48:00 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:48:00 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:00 DEBUG uid: 1001
2022-03-04 18:48:00 DEBUG effective uid: 1001
2022-03-04 18:48:00 DEBUG gid: 1001
2022-03-04 18:48:00 DEBUG effective gid: 1001
2022-03-04 18:48:00 DEBUG environment variables:
2022-03-04 18:48:00 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:48:00 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:48:00 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:48:00 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:48:00 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:48:00 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:48:00 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:48:00 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:48:00 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:48:00 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:48:00 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:48:00 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:48:00 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:00 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:48:00 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:48:00 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:48:00 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:48:00 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:48:00 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:48:00 DEBUG environment: WINDOWPATH=3
2022-03-04 18:48:00 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:48:00 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:48:00 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:48:00 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:48:00 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:48:00 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:48:00 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:48:00 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:48:00 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:48:00 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:48:00 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:48:00 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:48:00 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:48:00 DEBUG environment: TERM=xterm-256color
2022-03-04 18:48:00 DEBUG environment: USER=chrisshepherd
2022-03-04 18:48:00 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:48:00 DEBUG environment: DISPLAY=:0
2022-03-04 18:48:00 DEBUG environment: SHLVL=2
2022-03-04 18:48:00 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:48:00 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:48:00 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:48:00 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:48:00 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:48:00 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:48:00 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:48:00 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:48:00 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:48:00 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:48:00 INFO Temporary directory /tmp/tmpxc0l58u9
2022-03-04 18:48:00 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:00 INFO Test case: one_file_db
2022-03-04 18:48:00 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:48:00 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:48:00 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:48:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:00 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:48:00 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:48:00 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:47:55.783487702 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:48:00.259651774 +0000
@@ -1,10 +1,10 @@
-"?xml version="1.0" ?>
+<?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -14,4 +14,4 @@
 			</NODE>
 		</NODE>
 	</PLAYLISTS>
-</DJ_PLAYLISTS>"
+</DJ_PLAYLISTS>

2022-03-04 18:48:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:00 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:00 INFO Removing temporary directory /tmp/tmpxc0l58u9
2022-03-04 18:48:25 INFO cmdtest version 0.32+git starts
2022-03-04 18:48:25 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:48:25 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:25 DEBUG uid: 1001
2022-03-04 18:48:25 DEBUG effective uid: 1001
2022-03-04 18:48:25 DEBUG gid: 1001
2022-03-04 18:48:25 DEBUG effective gid: 1001
2022-03-04 18:48:25 DEBUG environment variables:
2022-03-04 18:48:25 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:48:25 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:48:25 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:48:25 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:48:25 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:48:25 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:48:25 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:48:25 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:48:25 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:48:25 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:48:25 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:48:25 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:48:25 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:25 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:48:25 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:48:25 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:48:25 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:48:25 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:48:25 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:48:25 DEBUG environment: WINDOWPATH=3
2022-03-04 18:48:25 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:48:25 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:48:25 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:48:25 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:48:25 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:48:25 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:48:25 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:48:25 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:48:25 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:48:25 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:48:25 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:48:25 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:48:25 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:48:25 DEBUG environment: TERM=xterm-256color
2022-03-04 18:48:25 DEBUG environment: USER=chrisshepherd
2022-03-04 18:48:25 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:48:25 DEBUG environment: DISPLAY=:0
2022-03-04 18:48:25 DEBUG environment: SHLVL=2
2022-03-04 18:48:25 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:48:25 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:48:25 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:48:25 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:48:25 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:48:25 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:48:25 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:48:25 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:48:25 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:48:25 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:48:25 INFO Temporary directory /tmp/tmpdq7248lu
2022-03-04 18:48:25 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:25 INFO Test case: one_file_db
2022-03-04 18:48:25 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:48:25 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:48:25 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:48:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:25 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:48:25 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:48:25 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:48:22.320460406 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:48:25.056560696 +0000
@@ -1,10 +1,10 @@
-"<?xml version="1.0" ?>
+<?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -14,4 +14,4 @@
 			</NODE>
 		</NODE>
 	</PLAYLISTS>
-</DJ_PLAYLISTS>"
+</DJ_PLAYLISTS>

2022-03-04 18:48:25 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:25 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:25 INFO Removing temporary directory /tmp/tmpdq7248lu
2022-03-04 18:48:26 INFO cmdtest version 0.32+git starts
2022-03-04 18:48:26 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:48:26 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:26 DEBUG uid: 1001
2022-03-04 18:48:26 DEBUG effective uid: 1001
2022-03-04 18:48:26 DEBUG gid: 1001
2022-03-04 18:48:26 DEBUG effective gid: 1001
2022-03-04 18:48:26 DEBUG environment variables:
2022-03-04 18:48:26 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:48:26 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:48:26 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:48:26 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:48:26 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:48:26 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:48:26 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:48:26 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:48:26 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:48:26 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:48:26 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:48:26 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:48:26 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:26 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:48:26 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:48:26 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:48:26 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:48:26 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:48:26 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:48:26 DEBUG environment: WINDOWPATH=3
2022-03-04 18:48:26 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:48:26 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:48:26 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:48:26 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:48:26 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:48:26 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:48:26 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:48:26 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:48:26 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:48:26 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:48:26 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:48:26 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:48:26 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:48:26 DEBUG environment: TERM=xterm-256color
2022-03-04 18:48:26 DEBUG environment: USER=chrisshepherd
2022-03-04 18:48:26 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:48:26 DEBUG environment: DISPLAY=:0
2022-03-04 18:48:26 DEBUG environment: SHLVL=2
2022-03-04 18:48:26 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:48:26 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:48:26 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:48:26 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:48:26 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:48:26 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:48:26 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:48:26 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:48:26 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:48:26 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:48:26 INFO Temporary directory /tmp/tmpb88ets3f
2022-03-04 18:48:26 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:26 INFO Test case: one_file_db
2022-03-04 18:48:26 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:48:26 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:48:26 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:48:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:26 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:48:26 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:48:26 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:48:22.320460406 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:48:26.960630490 +0000
@@ -1,10 +1,10 @@
-"<?xml version="1.0" ?>
+<?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -14,4 +14,4 @@
 			</NODE>
 		</NODE>
 	</PLAYLISTS>
-</DJ_PLAYLISTS>"
+</DJ_PLAYLISTS>

2022-03-04 18:48:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:26 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:26 INFO Removing temporary directory /tmp/tmpb88ets3f
2022-03-04 18:48:46 INFO cmdtest version 0.32+git starts
2022-03-04 18:48:46 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:48:46 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:46 DEBUG uid: 1001
2022-03-04 18:48:46 DEBUG effective uid: 1001
2022-03-04 18:48:46 DEBUG gid: 1001
2022-03-04 18:48:46 DEBUG effective gid: 1001
2022-03-04 18:48:46 DEBUG environment variables:
2022-03-04 18:48:46 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:48:46 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:48:46 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:48:46 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:48:46 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:48:46 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:48:46 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:48:46 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:48:46 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:48:46 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:48:46 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:48:46 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:48:46 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:48:46 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:48:46 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:48:46 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:48:46 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:48:46 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:48:46 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:48:46 DEBUG environment: WINDOWPATH=3
2022-03-04 18:48:46 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:48:46 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:48:46 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:48:46 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:48:46 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:48:46 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:48:46 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:48:46 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:48:46 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:48:46 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:48:46 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:48:46 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:48:46 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:48:46 DEBUG environment: TERM=xterm-256color
2022-03-04 18:48:46 DEBUG environment: USER=chrisshepherd
2022-03-04 18:48:46 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:48:46 DEBUG environment: DISPLAY=:0
2022-03-04 18:48:46 DEBUG environment: SHLVL=2
2022-03-04 18:48:46 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:48:46 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:48:46 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:48:46 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:48:46 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:48:46 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:48:46 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:48:46 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:48:46 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:48:46 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:48:46 INFO Temporary directory /tmp/tmpuup2mznp
2022-03-04 18:48:46 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:46 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:46 INFO Test case: one_file_db
2022-03-04 18:48:46 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:48:46 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:48:46 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:48:46 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:46 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:48:46 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:48:46 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:48:43.589240005 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:48:46.609350706 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>

2022-03-04 18:48:46 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:48:46 DEBUG run_script: test_name= script_name=None
2022-03-04 18:48:46 INFO Removing temporary directory /tmp/tmpuup2mznp
2022-03-04 18:49:55 INFO cmdtest version 0.32+git starts
2022-03-04 18:49:55 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:49:55 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:49:55 DEBUG uid: 1001
2022-03-04 18:49:55 DEBUG effective uid: 1001
2022-03-04 18:49:55 DEBUG gid: 1001
2022-03-04 18:49:55 DEBUG effective gid: 1001
2022-03-04 18:49:55 DEBUG environment variables:
2022-03-04 18:49:55 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:49:55 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:49:55 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:49:55 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:49:55 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:49:55 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:49:55 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:49:55 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:49:55 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:49:55 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:49:55 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:49:55 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:49:55 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:49:55 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:49:55 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:49:55 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:49:55 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:49:55 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:49:55 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:49:55 DEBUG environment: WINDOWPATH=3
2022-03-04 18:49:55 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:49:55 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:49:55 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:49:55 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:49:55 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:49:55 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:49:55 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:49:55 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:49:55 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:49:55 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:49:55 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:49:55 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:49:55 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:49:55 DEBUG environment: TERM=xterm-256color
2022-03-04 18:49:55 DEBUG environment: USER=chrisshepherd
2022-03-04 18:49:55 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:49:55 DEBUG environment: DISPLAY=:0
2022-03-04 18:49:55 DEBUG environment: SHLVL=2
2022-03-04 18:49:55 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:49:55 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:49:55 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:49:55 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:49:55 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:49:55 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:49:55 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:49:55 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:49:55 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:49:55 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:49:55 INFO Temporary directory /tmp/tmp_tn3r_rt
2022-03-04 18:49:55 DEBUG run_script: test_name= script_name=None
2022-03-04 18:49:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:49:55 INFO Test case: one_file_db
2022-03-04 18:49:55 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:49:55 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:49:55 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:49:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:49:55 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:49:55 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:49:55 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:49:52.747774989 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:49:55.691882904 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
- Comments: http://freemusicarchive.org/
- Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>

2022-03-04 18:49:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:49:55 DEBUG run_script: test_name= script_name=None
2022-03-04 18:49:55 INFO Removing temporary directory /tmp/tmp_tn3r_rt
2022-03-04 18:50:23 INFO cmdtest version 0.32+git starts
2022-03-04 18:50:23 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:50:23 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:50:23 DEBUG uid: 1001
2022-03-04 18:50:23 DEBUG effective uid: 1001
2022-03-04 18:50:23 DEBUG gid: 1001
2022-03-04 18:50:23 DEBUG effective gid: 1001
2022-03-04 18:50:23 DEBUG environment variables:
2022-03-04 18:50:23 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:50:23 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:50:23 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:50:23 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:50:23 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:50:23 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:50:23 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:50:23 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:50:23 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:50:23 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:50:23 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:50:23 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:50:23 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:50:23 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:50:23 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:50:23 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:50:23 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:50:23 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:50:23 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:50:23 DEBUG environment: WINDOWPATH=3
2022-03-04 18:50:23 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:50:23 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:50:23 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:50:23 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:50:23 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:50:23 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:50:23 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:50:23 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:50:23 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:50:23 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:50:23 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:50:23 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:50:23 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:50:23 DEBUG environment: TERM=xterm-256color
2022-03-04 18:50:23 DEBUG environment: USER=chrisshepherd
2022-03-04 18:50:23 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:50:23 DEBUG environment: DISPLAY=:0
2022-03-04 18:50:23 DEBUG environment: SHLVL=2
2022-03-04 18:50:23 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:50:23 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:50:23 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:50:23 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:50:23 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:50:23 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:50:23 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:50:23 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:50:23 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:50:23 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:50:23 INFO Temporary directory /tmp/tmpj71jehnj
2022-03-04 18:50:23 DEBUG run_script: test_name= script_name=None
2022-03-04 18:50:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:23 INFO Test case: one_file_db
2022-03-04 18:50:23 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:50:23 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:50:23 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:50:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:23 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:50:23 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:50:23 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:50:20.612796371 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:50:23.652907805 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -15,4 +15,3 @@
 		</NODE>
 	</PLAYLISTS>
 </DJ_PLAYLISTS>
-

2022-03-04 18:50:23 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:23 DEBUG run_script: test_name= script_name=None
2022-03-04 18:50:23 INFO Removing temporary directory /tmp/tmpj71jehnj
2022-03-04 18:50:59 INFO cmdtest version 0.32+git starts
2022-03-04 18:50:59 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:50:59 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:50:59 DEBUG uid: 1001
2022-03-04 18:50:59 DEBUG effective uid: 1001
2022-03-04 18:50:59 DEBUG gid: 1001
2022-03-04 18:50:59 DEBUG effective gid: 1001
2022-03-04 18:50:59 DEBUG environment variables:
2022-03-04 18:50:59 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:50:59 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:50:59 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:50:59 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:50:59 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:50:59 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:50:59 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:50:59 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:50:59 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:50:59 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:50:59 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:50:59 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:50:59 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:50:59 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:50:59 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:50:59 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:50:59 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:50:59 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:50:59 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:50:59 DEBUG environment: WINDOWPATH=3
2022-03-04 18:50:59 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:50:59 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:50:59 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:50:59 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:50:59 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:50:59 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:50:59 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:50:59 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:50:59 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:50:59 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:50:59 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:50:59 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:50:59 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:50:59 DEBUG environment: TERM=xterm-256color
2022-03-04 18:50:59 DEBUG environment: USER=chrisshepherd
2022-03-04 18:50:59 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:50:59 DEBUG environment: DISPLAY=:0
2022-03-04 18:50:59 DEBUG environment: SHLVL=2
2022-03-04 18:50:59 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:50:59 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:50:59 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:50:59 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:50:59 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:50:59 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:50:59 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:50:59 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:50:59 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:50:59 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:50:59 INFO Temporary directory /tmp/tmpwodh0fol
2022-03-04 18:50:59 DEBUG run_script: test_name= script_name=None
2022-03-04 18:50:59 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:59 INFO Test case: one_file_db
2022-03-04 18:50:59 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:50:59 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:50:59 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:50:59 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:59 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:50:59 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:50:59 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:50:20.612796371 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:50:59.126208068 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -15,4 +15,3 @@
 		</NODE>
 	</PLAYLISTS>
 </DJ_PLAYLISTS>
-

2022-03-04 18:50:59 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:50:59 DEBUG run_script: test_name= script_name=None
2022-03-04 18:50:59 INFO Removing temporary directory /tmp/tmpwodh0fol
2022-03-04 18:51:44 INFO cmdtest version 0.32+git starts
2022-03-04 18:51:44 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:51:44 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:51:44 DEBUG uid: 1001
2022-03-04 18:51:44 DEBUG effective uid: 1001
2022-03-04 18:51:44 DEBUG gid: 1001
2022-03-04 18:51:44 DEBUG effective gid: 1001
2022-03-04 18:51:44 DEBUG environment variables:
2022-03-04 18:51:44 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:51:44 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:51:44 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:51:44 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:51:44 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:51:44 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:51:44 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:51:44 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:51:44 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:51:44 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:51:44 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:51:44 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:51:44 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:51:44 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:51:44 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:51:44 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:51:44 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:51:44 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:51:44 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:51:44 DEBUG environment: WINDOWPATH=3
2022-03-04 18:51:44 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:51:44 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:51:44 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:51:44 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:51:44 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:51:44 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:51:44 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:51:44 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:51:44 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:51:44 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:51:44 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:51:44 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:51:44 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:51:44 DEBUG environment: TERM=xterm-256color
2022-03-04 18:51:44 DEBUG environment: USER=chrisshepherd
2022-03-04 18:51:44 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:51:44 DEBUG environment: DISPLAY=:0
2022-03-04 18:51:44 DEBUG environment: SHLVL=2
2022-03-04 18:51:44 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:51:44 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:51:44 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:51:44 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:51:44 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:51:44 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:51:44 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:51:44 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:51:44 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:51:44 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:51:44 INFO Temporary directory /tmp/tmp66lu5uxg
2022-03-04 18:51:44 DEBUG run_script: test_name= script_name=None
2022-03-04 18:51:44 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:44 INFO Test case: one_file_db
2022-03-04 18:51:44 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:51:44 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:51:44 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:51:44 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:44 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:51:44 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:51:44 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:50:20.612796371 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:51:44.127857588 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>
@@ -15,4 +15,3 @@
 		</NODE>
 	</PLAYLISTS>
 </DJ_PLAYLISTS>
-

2022-03-04 18:51:44 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:44 DEBUG run_script: test_name= script_name=None
2022-03-04 18:51:44 INFO Removing temporary directory /tmp/tmp66lu5uxg
2022-03-04 18:51:54 INFO cmdtest version 0.32+git starts
2022-03-04 18:51:54 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:51:54 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:51:54 DEBUG uid: 1001
2022-03-04 18:51:54 DEBUG effective uid: 1001
2022-03-04 18:51:54 DEBUG gid: 1001
2022-03-04 18:51:54 DEBUG effective gid: 1001
2022-03-04 18:51:54 DEBUG environment variables:
2022-03-04 18:51:54 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:51:54 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:51:54 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:51:54 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:51:54 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:51:54 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:51:54 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:51:54 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:51:54 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:51:54 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:51:54 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:51:54 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:51:54 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:51:54 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:51:54 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:51:54 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:51:54 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:51:54 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:51:54 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:51:54 DEBUG environment: WINDOWPATH=3
2022-03-04 18:51:54 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:51:54 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:51:54 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:51:54 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:51:54 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:51:54 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:51:54 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:51:54 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:51:54 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:51:54 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:51:54 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:51:54 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:51:54 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:51:54 DEBUG environment: TERM=xterm-256color
2022-03-04 18:51:54 DEBUG environment: USER=chrisshepherd
2022-03-04 18:51:54 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:51:54 DEBUG environment: DISPLAY=:0
2022-03-04 18:51:54 DEBUG environment: SHLVL=2
2022-03-04 18:51:54 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:51:54 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:51:54 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:51:54 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:51:54 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:51:54 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:51:54 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:51:54 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:51:54 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:51:54 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:51:54 INFO Temporary directory /tmp/tmpu2l7pvp3
2022-03-04 18:51:54 DEBUG run_script: test_name= script_name=None
2022-03-04 18:51:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:54 INFO Test case: one_file_db
2022-03-04 18:51:54 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:51:54 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:51:54 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:51:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:54 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:51:54 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:51:54 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:51:51.800138813 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:51:54.820249514 +0000
@@ -0,0 +1,17 @@
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-04 18:51:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:51:54 DEBUG run_script: test_name= script_name=None
2022-03-04 18:51:54 INFO Removing temporary directory /tmp/tmpu2l7pvp3
2022-03-04 18:52:18 INFO cmdtest version 0.32+git starts
2022-03-04 18:52:18 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:52:18 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:52:18 DEBUG uid: 1001
2022-03-04 18:52:18 DEBUG effective uid: 1001
2022-03-04 18:52:18 DEBUG gid: 1001
2022-03-04 18:52:18 DEBUG effective gid: 1001
2022-03-04 18:52:18 DEBUG environment variables:
2022-03-04 18:52:18 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:52:18 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:52:18 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:52:18 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:52:18 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:52:18 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:52:18 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:52:18 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:52:18 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:52:18 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:52:18 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:52:18 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:52:18 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:52:18 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:52:18 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:52:18 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:52:18 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:52:18 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:52:18 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:52:18 DEBUG environment: WINDOWPATH=3
2022-03-04 18:52:18 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:52:18 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:52:18 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:52:18 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:52:18 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:52:18 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:52:18 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:52:18 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:52:18 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:52:18 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:52:18 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:52:18 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:52:18 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:52:18 DEBUG environment: TERM=xterm-256color
2022-03-04 18:52:18 DEBUG environment: USER=chrisshepherd
2022-03-04 18:52:18 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:52:18 DEBUG environment: DISPLAY=:0
2022-03-04 18:52:18 DEBUG environment: SHLVL=2
2022-03-04 18:52:18 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:52:18 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:52:18 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:52:18 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:52:18 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:52:18 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:52:18 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:52:18 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:52:18 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:52:18 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:52:18 INFO Temporary directory /tmp/tmpyhwo5v90
2022-03-04 18:52:18 DEBUG run_script: test_name= script_name=None
2022-03-04 18:52:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:52:18 INFO Test case: one_file_db
2022-03-04 18:52:18 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:52:18 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:52:18 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:52:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:52:18 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:52:18 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:52:18 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:52:16.585047294 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:52:18.833129697 +0000
@@ -2,9 +2,9 @@
 <DJ_PLAYLISTS Version="1.0.0">
 	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
 	<COLLECTION Entries="1">
-		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
 	</COLLECTION>
 	<PLAYLISTS>

2022-03-04 18:52:18 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:52:18 DEBUG run_script: test_name= script_name=None
2022-03-04 18:52:18 INFO Removing temporary directory /tmp/tmpyhwo5v90
2022-03-04 18:53:50 INFO cmdtest version 0.32+git starts
2022-03-04 18:53:50 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:53:50 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:53:50 DEBUG uid: 1001
2022-03-04 18:53:50 DEBUG effective uid: 1001
2022-03-04 18:53:50 DEBUG gid: 1001
2022-03-04 18:53:50 DEBUG effective gid: 1001
2022-03-04 18:53:50 DEBUG environment variables:
2022-03-04 18:53:50 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:53:50 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:53:50 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:53:50 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:53:50 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:53:50 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:53:50 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:53:50 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:53:50 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:53:50 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:53:50 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:53:50 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:53:50 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:53:50 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:53:50 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:53:50 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:53:50 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:53:50 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:53:50 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:53:50 DEBUG environment: WINDOWPATH=3
2022-03-04 18:53:50 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:53:50 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:53:50 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:53:50 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:53:50 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:53:50 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:53:50 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:53:50 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:53:50 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:53:50 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:53:50 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:53:50 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:53:50 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:53:50 DEBUG environment: TERM=xterm-256color
2022-03-04 18:53:50 DEBUG environment: USER=chrisshepherd
2022-03-04 18:53:50 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:53:50 DEBUG environment: DISPLAY=:0
2022-03-04 18:53:50 DEBUG environment: SHLVL=2
2022-03-04 18:53:50 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:53:50 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:53:50 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:53:50 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:53:50 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:53:50 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:53:50 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:53:50 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:53:50 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:53:50 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:53:50 INFO Temporary directory /tmp/tmpqhvr3m04
2022-03-04 18:53:50 DEBUG run_script: test_name= script_name=None
2022-03-04 18:53:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:53:50 INFO Test case: one_file_db
2022-03-04 18:53:50 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:53:50 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:53:50 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:53:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:53:50 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:53:50 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:53:50 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:53:48.116402346 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:53:50.580492666 +0000
@@ -1,18 +1,17 @@
 <?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3^M
-Comments: http://freemusicarchive.org/^M
-Curator: Arbiter Records^M
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
 </DJ_PLAYLISTS>
-

2022-03-04 18:53:50 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:53:50 DEBUG run_script: test_name= script_name=None
2022-03-04 18:53:50 INFO Removing temporary directory /tmp/tmpqhvr3m04
2022-03-04 18:54:00 INFO cmdtest version 0.32+git starts
2022-03-04 18:54:00 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:54:00 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:54:00 DEBUG uid: 1001
2022-03-04 18:54:00 DEBUG effective uid: 1001
2022-03-04 18:54:00 DEBUG gid: 1001
2022-03-04 18:54:00 DEBUG effective gid: 1001
2022-03-04 18:54:00 DEBUG environment variables:
2022-03-04 18:54:00 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:54:00 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:54:00 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:54:00 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:54:00 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:54:00 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:54:00 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:54:00 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:54:00 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:54:00 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:54:00 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:54:00 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:54:00 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:54:00 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:54:00 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:54:00 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:54:00 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:54:00 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:54:00 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:54:00 DEBUG environment: WINDOWPATH=3
2022-03-04 18:54:00 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:54:00 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:54:00 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:54:00 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:54:00 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:54:00 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:54:00 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:54:00 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:54:00 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:54:00 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:54:00 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:54:00 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:54:00 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:54:00 DEBUG environment: TERM=xterm-256color
2022-03-04 18:54:00 DEBUG environment: USER=chrisshepherd
2022-03-04 18:54:00 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:54:00 DEBUG environment: DISPLAY=:0
2022-03-04 18:54:00 DEBUG environment: SHLVL=2
2022-03-04 18:54:00 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:54:00 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:54:00 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:54:00 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:54:00 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:54:00 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:54:00 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:54:00 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:54:00 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:54:00 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:54:00 INFO Temporary directory /tmp/tmphkzbyi0o
2022-03-04 18:54:00 DEBUG run_script: test_name= script_name=None
2022-03-04 18:54:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:54:00 INFO Test case: one_file_db
2022-03-04 18:54:00 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:54:00 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:54:00 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:54:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:54:00 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:54:00 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:54:00 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:53:58.272774625 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:54:00.356851016 +0000
@@ -1,17 +1,17 @@
 <?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3^M
-Comments: http://freemusicarchive.org/^M
-Curator: Arbiter Records^M
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
 </DJ_PLAYLISTS>

2022-03-04 18:54:00 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:54:00 DEBUG run_script: test_name= script_name=None
2022-03-04 18:54:00 INFO Removing temporary directory /tmp/tmphkzbyi0o
2022-03-04 18:56:12 INFO cmdtest version 0.32+git starts
2022-03-04 18:56:12 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-04 18:56:12 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:56:12 DEBUG uid: 1001
2022-03-04 18:56:12 DEBUG effective uid: 1001
2022-03-04 18:56:12 DEBUG gid: 1001
2022-03-04 18:56:12 DEBUG effective gid: 1001
2022-03-04 18:56:12 DEBUG environment variables:
2022-03-04 18:56:12 DEBUG environment: SHELL=/bin/bash
2022-03-04 18:56:12 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-04 18:56:12 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-04 18:56:12 DEBUG environment: COLORTERM=truecolor
2022-03-04 18:56:12 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-04 18:56:12 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-04 18:56:12 DEBUG environment: LANGUAGE=en_GB:en
2022-03-04 18:56:12 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-04 18:56:12 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-04 18:56:12 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-04 18:56:12 DEBUG environment: SSH_AGENT_PID=223861
2022-03-04 18:56:12 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-04 18:56:12 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-04 18:56:12 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-04 18:56:12 DEBUG environment: LOGNAME=chrisshepherd
2022-03-04 18:56:12 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-04 18:56:12 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-04 18:56:12 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-04 18:56:12 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-04 18:56:12 DEBUG environment: WINDOWPATH=3
2022-03-04 18:56:12 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-04 18:56:12 DEBUG environment: HOME=/home/chrisshepherd
2022-03-04 18:56:12 DEBUG environment: USERNAME=chrisshepherd
2022-03-04 18:56:12 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-04 18:56:12 DEBUG environment: LANG=en_GB.UTF-8
2022-03-04 18:56:12 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-04 18:56:12 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-04 18:56:12 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-04 18:56:12 DEBUG environment: VTE_VERSION=6203
2022-03-04 18:56:12 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-04 18:56:12 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-04 18:56:12 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-04 18:56:12 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-04 18:56:12 DEBUG environment: TERM=xterm-256color
2022-03-04 18:56:12 DEBUG environment: USER=chrisshepherd
2022-03-04 18:56:12 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-04 18:56:12 DEBUG environment: DISPLAY=:0
2022-03-04 18:56:12 DEBUG environment: SHLVL=2
2022-03-04 18:56:12 DEBUG environment: QT_IM_MODULE=ibus
2022-03-04 18:56:12 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-04 18:56:12 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-04 18:56:12 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-04 18:56:12 DEBUG environment: GDMSESSION=gnome
2022-03-04 18:56:12 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-04 18:56:12 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-04 18:56:12 DEBUG environment: _=/usr/bin/cmdtest
2022-03-04 18:56:12 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-04 18:56:12 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-04 18:56:12 INFO Temporary directory /tmp/tmpz0u0pwj7
2022-03-04 18:56:12 DEBUG run_script: test_name= script_name=None
2022-03-04 18:56:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:56:12 INFO Test case: one_file_db
2022-03-04 18:56:12 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-04 18:56:12 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-04 18:56:12 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-04 18:56:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:56:12 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-04 18:56:12 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-04 18:56:12 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-04 18:56:12.941710869 +0000
@@ -1,17 +1,17 @@
 <?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
 Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
 </DJ_PLAYLISTS>

2022-03-04 18:56:12 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-04 18:56:12 DEBUG run_script: test_name= script_name=None
2022-03-04 18:56:12 INFO Removing temporary directory /tmp/tmpz0u0pwj7
2022-03-05 17:18:08 INFO cmdtest version 0.32+git starts
2022-03-05 17:18:08 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:18:08 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:18:08 DEBUG uid: 1001
2022-03-05 17:18:08 DEBUG effective uid: 1001
2022-03-05 17:18:08 DEBUG gid: 1001
2022-03-05 17:18:08 DEBUG effective gid: 1001
2022-03-05 17:18:08 DEBUG environment variables:
2022-03-05 17:18:08 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:18:08 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:18:08 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:18:08 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:18:08 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:18:08 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:18:08 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:18:08 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:18:08 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:18:08 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:18:08 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:18:08 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:18:08 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:18:08 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:18:08 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:18:08 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:18:08 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:18:08 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:18:08 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:18:08 DEBUG environment: WINDOWPATH=3
2022-03-05 17:18:08 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:18:08 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:18:08 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:18:08 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:18:08 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:18:08 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:18:08 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:18:08 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:18:08 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:18:08 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/512ed019_d3aa_4890_b128_c2e7b8ac3da6
2022-03-05 17:18:08 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:18:08 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:18:08 DEBUG environment: TERM=xterm-256color
2022-03-05 17:18:08 DEBUG environment: USER=chrisshepherd
2022-03-05 17:18:08 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:18:08 DEBUG environment: DISPLAY=:0
2022-03-05 17:18:08 DEBUG environment: SHLVL=2
2022-03-05 17:18:08 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:18:08 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:18:08 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:18:08 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:18:08 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:18:08 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:18:08 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:18:08 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:18:08 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:18:08 INFO Temporary directory /tmp/tmpdndpwo_w
2022-03-05 17:18:08 DEBUG run_script: test_name= script_name=None
2022-03-05 17:18:08 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:18:08 INFO Test case: one_file_db
2022-03-05 17:18:08 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:18:08 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:18:08 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:18:08 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:18:08 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:18:08 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:18:08 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:18:08.897132522 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:18:08 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:18:08.921133401 +0000
@@ -0,0 +1,7 @@
+Traceback (most recent call last):
+  File "<string>", line 1, in <module>
+  File "/home/chrisshepherd/self_study/rbr_tool/new_python/rbrDatabase.py", line 9, in <module>
+    import track
+  File "/home/chrisshepherd/self_study/rbr_tool/new_python/track.py", line 6, in <module>
+    import mutagen
+ModuleNotFoundError: No module named 'mutagen'

2022-03-05 17:18:08 ERROR FAIL: one_file_db: got exit code 1, expected 0
2022-03-05 17:18:08 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:18:08 DEBUG run_script: test_name= script_name=None
2022-03-05 17:18:08 INFO Removing temporary directory /tmp/tmpdndpwo_w
2022-03-05 17:20:02 INFO cmdtest version 0.32+git starts
2022-03-05 17:20:02 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:20:02 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:20:02 DEBUG uid: 1001
2022-03-05 17:20:02 DEBUG effective uid: 1001
2022-03-05 17:20:02 DEBUG gid: 1001
2022-03-05 17:20:02 DEBUG effective gid: 1001
2022-03-05 17:20:02 DEBUG environment variables:
2022-03-05 17:20:02 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:20:02 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:20:02 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:20:02 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:20:02 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:20:02 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:20:02 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:20:02 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:20:02 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:20:02 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:20:02 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:20:02 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:20:02 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:20:02 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:20:02 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:20:02 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:20:02 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:20:02 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:20:02 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:20:02 DEBUG environment: WINDOWPATH=3
2022-03-05 17:20:02 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:20:02 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:20:02 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:20:02 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:20:02 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:20:02 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:20:02 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:20:02 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:20:02 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:20:02 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:20:02 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:20:02 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:20:02 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:20:02 DEBUG environment: TERM=xterm-256color
2022-03-05 17:20:02 DEBUG environment: USER=chrisshepherd
2022-03-05 17:20:02 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:20:02 DEBUG environment: DISPLAY=:0
2022-03-05 17:20:02 DEBUG environment: SHLVL=2
2022-03-05 17:20:02 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:20:02 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:20:02 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:20:02 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:20:02 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:20:02 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:20:02 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:20:02 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:20:02 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:20:02 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:20:02 INFO Temporary directory /tmp/tmpe42z_q88
2022-03-05 17:20:02 DEBUG run_script: test_name= script_name=None
2022-03-05 17:20:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:20:02 INFO Test case: one_file_db
2022-03-05 17:20:02 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:20:02 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:20:02 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:20:03 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:20:03 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:20:03 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:20:03 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:20:02.069280809 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:20:03 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:20:03.505333447 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 11: source: not found

2022-03-05 17:20:03 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:20:03 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:20:03 DEBUG run_script: test_name= script_name=None
2022-03-05 17:20:03 INFO Removing temporary directory /tmp/tmpe42z_q88
2022-03-05 17:21:28 INFO cmdtest version 0.32+git starts
2022-03-05 17:21:28 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:21:28 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:21:28 DEBUG uid: 1001
2022-03-05 17:21:28 DEBUG effective uid: 1001
2022-03-05 17:21:28 DEBUG gid: 1001
2022-03-05 17:21:28 DEBUG effective gid: 1001
2022-03-05 17:21:28 DEBUG environment variables:
2022-03-05 17:21:28 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:21:28 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:21:28 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:21:28 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:21:28 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:21:28 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:21:28 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:21:28 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:21:28 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:21:28 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:21:28 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:21:28 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:21:28 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:21:28 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:21:28 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:21:28 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:21:28 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:21:28 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:21:28 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:21:28 DEBUG environment: WINDOWPATH=3
2022-03-05 17:21:28 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:21:28 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:21:28 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:21:28 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:21:28 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:21:28 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:21:28 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:21:28 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:21:28 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:21:28 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:21:28 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:21:28 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:21:28 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:21:28 DEBUG environment: TERM=xterm-256color
2022-03-05 17:21:28 DEBUG environment: USER=chrisshepherd
2022-03-05 17:21:28 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:21:28 DEBUG environment: DISPLAY=:0
2022-03-05 17:21:28 DEBUG environment: SHLVL=2
2022-03-05 17:21:28 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:21:28 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:21:28 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:21:28 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:21:28 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:21:28 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:21:28 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:21:28 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:21:28 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:21:28 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:21:28 INFO Temporary directory /tmp/tmpecod4ag8
2022-03-05 17:21:28 DEBUG run_script: test_name= script_name=None
2022-03-05 17:21:28 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:21:28 INFO Test case: one_file_db
2022-03-05 17:21:28 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:21:28 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:21:28 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:21:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:21:29 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:21:29 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:21:29 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:21:28.016431172 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:21:29 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:21:29.296478092 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 12: source: not found

2022-03-05 17:21:29 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:21:29 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:21:29 DEBUG run_script: test_name= script_name=None
2022-03-05 17:21:29 INFO Removing temporary directory /tmp/tmpecod4ag8
2022-03-05 17:22:46 INFO cmdtest version 0.32+git starts
2022-03-05 17:22:46 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:22:46 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:22:46 DEBUG uid: 1001
2022-03-05 17:22:46 DEBUG effective uid: 1001
2022-03-05 17:22:46 DEBUG gid: 1001
2022-03-05 17:22:46 DEBUG effective gid: 1001
2022-03-05 17:22:46 DEBUG environment variables:
2022-03-05 17:22:46 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:22:46 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:22:46 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:22:46 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:22:46 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:22:46 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:22:46 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:22:46 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:22:46 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:22:46 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:22:46 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:22:46 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:22:46 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:22:46 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:22:46 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:22:46 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:22:46 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:22:46 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:22:46 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:22:46 DEBUG environment: WINDOWPATH=3
2022-03-05 17:22:46 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:22:46 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:22:46 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:22:46 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:22:46 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:22:46 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:22:46 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:22:46 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:22:46 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:22:46 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:22:46 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:22:46 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:22:46 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:22:46 DEBUG environment: TERM=xterm-256color
2022-03-05 17:22:46 DEBUG environment: USER=chrisshepherd
2022-03-05 17:22:46 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:22:46 DEBUG environment: DISPLAY=:0
2022-03-05 17:22:46 DEBUG environment: SHLVL=2
2022-03-05 17:22:46 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:22:46 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:22:46 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:22:46 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:22:46 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:22:46 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:22:46 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:22:46 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:22:46 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:22:46 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:22:46 INFO Temporary directory /tmp/tmpj0hzkaz5
2022-03-05 17:22:46 DEBUG run_script: test_name= script_name=None
2022-03-05 17:22:46 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:22:46 INFO Test case: one_file_db
2022-03-05 17:22:46 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:22:46 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:22:46 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:22:47 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:22:47 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:22:47 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:22:47 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:22:46.247298699 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:22:47 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:22:47.623349137 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 12: source: not found

2022-03-05 17:22:47 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:22:47 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:22:47 DEBUG run_script: test_name= script_name=None
2022-03-05 17:22:47 INFO Removing temporary directory /tmp/tmpj0hzkaz5
2022-03-05 17:23:32 INFO cmdtest version 0.32+git starts
2022-03-05 17:23:32 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:23:32 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:23:32 DEBUG uid: 1001
2022-03-05 17:23:32 DEBUG effective uid: 1001
2022-03-05 17:23:32 DEBUG gid: 1001
2022-03-05 17:23:32 DEBUG effective gid: 1001
2022-03-05 17:23:32 DEBUG environment variables:
2022-03-05 17:23:32 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:23:32 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:23:32 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:23:32 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:23:32 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:23:32 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:23:32 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:23:32 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:23:32 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:23:32 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:23:32 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:23:32 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:23:32 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:23:32 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:23:32 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:23:32 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:23:32 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:23:32 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:23:32 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:23:32 DEBUG environment: WINDOWPATH=3
2022-03-05 17:23:32 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:23:32 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:23:32 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:23:32 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:23:32 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:23:32 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:23:32 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:23:32 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:23:32 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:23:32 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:23:32 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:23:32 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:23:32 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:23:32 DEBUG environment: TERM=xterm-256color
2022-03-05 17:23:32 DEBUG environment: USER=chrisshepherd
2022-03-05 17:23:32 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:23:32 DEBUG environment: DISPLAY=:0
2022-03-05 17:23:32 DEBUG environment: SHLVL=2
2022-03-05 17:23:32 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:23:32 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:23:32 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:23:32 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:23:32 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:23:32 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:23:32 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:23:32 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:23:32 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:23:32 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:23:32 INFO Temporary directory /tmp/tmprrpvqcw_
2022-03-05 17:23:32 DEBUG run_script: test_name= script_name=None
2022-03-05 17:23:32 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:32 INFO Test case: one_file_db
2022-03-05 17:23:32 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:23:32 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:23:32 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:23:34 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:34 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:23:34 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:23:34 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:23:32.825005990 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:23:34 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:23:34.113053203 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 12: source: not found

2022-03-05 17:23:34 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:23:34 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:34 DEBUG run_script: test_name= script_name=None
2022-03-05 17:23:34 INFO Removing temporary directory /tmp/tmprrpvqcw_
2022-03-05 17:23:51 INFO cmdtest version 0.32+git starts
2022-03-05 17:23:51 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:23:51 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:23:51 DEBUG uid: 1001
2022-03-05 17:23:51 DEBUG effective uid: 1001
2022-03-05 17:23:51 DEBUG gid: 1001
2022-03-05 17:23:51 DEBUG effective gid: 1001
2022-03-05 17:23:51 DEBUG environment variables:
2022-03-05 17:23:51 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:23:51 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:23:51 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:23:51 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:23:51 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:23:51 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:23:51 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:23:51 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:23:51 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:23:51 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:23:51 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:23:51 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:23:51 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:23:51 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:23:51 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:23:51 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:23:51 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:23:51 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:23:51 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:23:51 DEBUG environment: WINDOWPATH=3
2022-03-05 17:23:51 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:23:51 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:23:51 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:23:51 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:23:51 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:23:51 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:23:51 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:23:51 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:23:51 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:23:51 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:23:51 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:23:51 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:23:51 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:23:51 DEBUG environment: TERM=xterm-256color
2022-03-05 17:23:51 DEBUG environment: USER=chrisshepherd
2022-03-05 17:23:51 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:23:51 DEBUG environment: DISPLAY=:0
2022-03-05 17:23:51 DEBUG environment: SHLVL=2
2022-03-05 17:23:51 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:23:51 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:23:51 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:23:51 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:23:51 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:23:51 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:23:51 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:23:51 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:23:51 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:23:51 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:23:51 INFO Temporary directory /tmp/tmpzg9hxbno
2022-03-05 17:23:51 DEBUG run_script: test_name= script_name=None
2022-03-05 17:23:51 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:51 INFO Test case: one_file_db
2022-03-05 17:23:51 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:23:51 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:23:51 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:23:51 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:51 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:23:51 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:23:51 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:23:51.505690723 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:23:51 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:23:51 DEBUG run_script: test_name= script_name=None
2022-03-05 17:23:51 INFO Removing temporary directory /tmp/tmpzg9hxbno
2022-03-05 17:24:02 INFO cmdtest version 0.32+git starts
2022-03-05 17:24:02 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:24:02 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:24:02 DEBUG uid: 1001
2022-03-05 17:24:02 DEBUG effective uid: 1001
2022-03-05 17:24:02 DEBUG gid: 1001
2022-03-05 17:24:02 DEBUG effective gid: 1001
2022-03-05 17:24:02 DEBUG environment variables:
2022-03-05 17:24:02 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:24:02 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:24:02 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:24:02 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:24:02 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:24:02 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:24:02 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:24:02 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:24:02 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:24:02 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:24:02 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:24:02 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:24:02 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:24:02 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:24:02 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:24:02 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:24:02 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:24:02 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:24:02 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:24:02 DEBUG environment: WINDOWPATH=3
2022-03-05 17:24:02 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:24:02 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:24:02 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:24:02 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:24:02 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:24:02 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:24:02 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:24:02 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:24:02 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:24:02 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:24:02 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:24:02 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:24:02 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:24:02 DEBUG environment: TERM=xterm-256color
2022-03-05 17:24:02 DEBUG environment: USER=chrisshepherd
2022-03-05 17:24:02 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:24:02 DEBUG environment: DISPLAY=:0
2022-03-05 17:24:02 DEBUG environment: SHLVL=2
2022-03-05 17:24:02 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:24:02 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:24:02 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:24:02 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:24:02 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:24:02 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:24:02 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:24:02 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:24:02 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:24:02 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:24:02 INFO Temporary directory /tmp/tmp83p9iwxn
2022-03-05 17:24:02 DEBUG run_script: test_name= script_name=None
2022-03-05 17:24:02 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:02 INFO Test case: one_file_db
2022-03-05 17:24:02 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:24:02 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:24:02 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:24:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:04 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:24:04 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:24:04 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:24:02.746102737 +0000
@@ -1,17 +0,0 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>

2022-03-05 17:24:04 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:24:04.178155228 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 12: source: not found

2022-03-05 17:24:04 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:24:04 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:04 DEBUG run_script: test_name= script_name=None
2022-03-05 17:24:04 INFO Removing temporary directory /tmp/tmp83p9iwxn
2022-03-05 17:24:41 INFO cmdtest version 0.32+git starts
2022-03-05 17:24:41 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:24:41 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:24:41 DEBUG uid: 1001
2022-03-05 17:24:41 DEBUG effective uid: 1001
2022-03-05 17:24:41 DEBUG gid: 1001
2022-03-05 17:24:41 DEBUG effective gid: 1001
2022-03-05 17:24:41 DEBUG environment variables:
2022-03-05 17:24:41 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:24:41 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:24:41 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:24:41 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:24:41 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:24:41 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:24:41 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:24:41 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:24:41 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:24:41 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:24:41 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:24:41 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:24:41 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:24:41 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:24:41 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:24:41 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:24:41 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:24:41 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:24:41 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:24:41 DEBUG environment: WINDOWPATH=3
2022-03-05 17:24:41 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:24:41 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:24:41 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:24:41 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:24:41 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:24:41 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:24:41 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:24:41 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:24:41 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:24:41 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:24:41 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:24:41 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:24:41 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:24:41 DEBUG environment: TERM=xterm-256color
2022-03-05 17:24:41 DEBUG environment: USER=chrisshepherd
2022-03-05 17:24:41 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:24:41 DEBUG environment: DISPLAY=:0
2022-03-05 17:24:41 DEBUG environment: SHLVL=2
2022-03-05 17:24:41 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:24:41 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:24:41 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:24:41 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:24:41 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:24:41 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:24:41 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:24:41 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:24:41 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:24:41 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:24:41 INFO Temporary directory /tmp/tmpc1kbvfjn
2022-03-05 17:24:41 DEBUG run_script: test_name= script_name=None
2022-03-05 17:24:41 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:41 INFO Test case: one_file_db
2022-03-05 17:24:41 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:24:41 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:24:41 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:24:42 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:42 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:24:42 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:24:42 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:24:42.839572351 +0000
@@ -1,17 +1,6 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+bin
+include
+lib
+lib64
+pyvenv.cfg
+share

2022-03-05 17:24:42 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:24:42 DEBUG run_script: test_name= script_name=None
2022-03-05 17:24:42 INFO Removing temporary directory /tmp/tmpc1kbvfjn
2022-03-05 17:25:15 INFO cmdtest version 0.32+git starts
2022-03-05 17:25:15 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:25:15 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:25:15 DEBUG uid: 1001
2022-03-05 17:25:15 DEBUG effective uid: 1001
2022-03-05 17:25:15 DEBUG gid: 1001
2022-03-05 17:25:15 DEBUG effective gid: 1001
2022-03-05 17:25:15 DEBUG environment variables:
2022-03-05 17:25:15 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:25:15 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:25:15 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:25:15 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:25:15 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:25:15 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:25:15 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:25:15 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:25:15 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:25:15 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:25:15 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:25:15 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:25:15 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:25:15 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:25:15 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:25:15 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:25:15 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:25:15 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:25:15 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:25:15 DEBUG environment: WINDOWPATH=3
2022-03-05 17:25:15 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:25:15 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:25:15 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:25:15 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:25:15 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:25:15 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:25:15 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:25:15 DEBUG environment: VIRTUAL_ENV=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv
2022-03-05 17:25:15 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:25:15 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:25:15 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:25:15 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:25:15 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:25:15 DEBUG environment: TERM=xterm-256color
2022-03-05 17:25:15 DEBUG environment: USER=chrisshepherd
2022-03-05 17:25:15 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:25:15 DEBUG environment: DISPLAY=:0
2022-03-05 17:25:15 DEBUG environment: SHLVL=2
2022-03-05 17:25:15 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:25:15 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:25:15 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:25:15 DEBUG environment: PATH=/home/chrisshepherd/self_study/rbr_tool/new_python/.venv/bin:/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:25:15 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:25:15 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:25:15 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:25:15 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:25:15 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:25:15 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:25:15 INFO Temporary directory /tmp/tmpdec8hrw9
2022-03-05 17:25:15 DEBUG run_script: test_name= script_name=None
2022-03-05 17:25:15 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:15 INFO Test case: one_file_db
2022-03-05 17:25:15 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:25:15 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:25:15 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:25:16 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:16 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:25:16 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:25:16 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:25:16.480805458 +0000
@@ -1,17 +1,12 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9

2022-03-05 17:25:16 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:16 DEBUG run_script: test_name= script_name=None
2022-03-05 17:25:16 INFO Removing temporary directory /tmp/tmpdec8hrw9
2022-03-05 17:25:37 INFO cmdtest version 0.32+git starts
2022-03-05 17:25:37 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:25:37 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:25:37 DEBUG uid: 1001
2022-03-05 17:25:37 DEBUG effective uid: 1001
2022-03-05 17:25:37 DEBUG gid: 1001
2022-03-05 17:25:37 DEBUG effective gid: 1001
2022-03-05 17:25:37 DEBUG environment variables:
2022-03-05 17:25:37 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:25:37 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:25:37 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:25:37 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:25:37 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:25:37 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:25:37 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:25:37 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:25:37 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:25:37 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:25:37 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:25:37 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:25:37 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:25:37 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:25:37 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:25:37 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:25:37 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:25:37 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:25:37 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:25:37 DEBUG environment: WINDOWPATH=3
2022-03-05 17:25:37 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:25:37 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:25:37 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:25:37 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:25:37 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:25:37 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:25:37 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:25:37 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:25:37 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:25:37 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:25:37 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:25:37 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:25:37 DEBUG environment: TERM=xterm-256color
2022-03-05 17:25:37 DEBUG environment: USER=chrisshepherd
2022-03-05 17:25:37 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:25:37 DEBUG environment: DISPLAY=:0
2022-03-05 17:25:37 DEBUG environment: SHLVL=2
2022-03-05 17:25:37 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:25:37 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:25:37 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:25:37 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:25:37 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:25:37 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:25:37 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:25:37 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:25:37 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:25:37 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:25:37 INFO Temporary directory /tmp/tmpygrqoyw3
2022-03-05 17:25:37 DEBUG run_script: test_name= script_name=None
2022-03-05 17:25:37 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:37 INFO Test case: one_file_db
2022-03-05 17:25:37 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:25:37 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:25:37 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:25:39 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:39 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:25:39 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:25:39 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:25:39.337643268 +0000
@@ -1,17 +1,12 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9

2022-03-05 17:25:39 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:25:39.337643268 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 13: source: not found

2022-03-05 17:25:39 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:25:39 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:25:39 DEBUG run_script: test_name= script_name=None
2022-03-05 17:25:39 INFO Removing temporary directory /tmp/tmpygrqoyw3
2022-03-05 17:27:26 INFO cmdtest version 0.32+git starts
2022-03-05 17:27:26 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:27:26 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:27:26 DEBUG uid: 1001
2022-03-05 17:27:26 DEBUG effective uid: 1001
2022-03-05 17:27:26 DEBUG gid: 1001
2022-03-05 17:27:26 DEBUG effective gid: 1001
2022-03-05 17:27:26 DEBUG environment variables:
2022-03-05 17:27:26 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:27:26 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:27:26 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:27:26 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:27:26 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:27:26 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:27:26 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:27:26 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:27:26 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:27:26 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:27:26 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:27:26 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:27:26 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:27:26 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:27:26 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:27:26 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:27:26 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:27:26 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:27:26 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:27:26 DEBUG environment: WINDOWPATH=3
2022-03-05 17:27:26 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:27:26 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:27:26 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:27:26 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:27:26 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:27:26 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:27:26 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:27:26 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:27:26 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:27:26 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:27:26 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:27:26 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:27:26 DEBUG environment: TERM=xterm-256color
2022-03-05 17:27:26 DEBUG environment: USER=chrisshepherd
2022-03-05 17:27:26 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:27:26 DEBUG environment: DISPLAY=:0
2022-03-05 17:27:26 DEBUG environment: SHLVL=2
2022-03-05 17:27:26 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:27:26 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:27:26 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:27:26 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:27:26 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:27:26 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:27:26 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:27:26 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:27:26 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:27:26 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:27:26 INFO Temporary directory /tmp/tmpfarjpw2y
2022-03-05 17:27:26 DEBUG run_script: test_name= script_name=None
2022-03-05 17:27:26 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:27:26 INFO Test case: one_file_db
2022-03-05 17:27:26 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:27:26 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:27:26 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:27:27 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:27:27 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:27:27 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:27:27 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:27:27.713615755 +0000
@@ -1,17 +1,12 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9

2022-03-05 17:27:27 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:27:27.713615755 +0000
@@ -0,0 +1 @@
+tests/one_file_db.script: 13: source: not found

2022-03-05 17:27:27 ERROR FAIL: one_file_db: got exit code 127, expected 0
2022-03-05 17:27:27 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:27:27 DEBUG run_script: test_name= script_name=None
2022-03-05 17:27:27 INFO Removing temporary directory /tmp/tmpfarjpw2y
2022-03-05 17:31:14 INFO cmdtest version 0.32+git starts
2022-03-05 17:31:14 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:31:14 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:31:14 DEBUG uid: 1001
2022-03-05 17:31:14 DEBUG effective uid: 1001
2022-03-05 17:31:14 DEBUG gid: 1001
2022-03-05 17:31:14 DEBUG effective gid: 1001
2022-03-05 17:31:14 DEBUG environment variables:
2022-03-05 17:31:14 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:31:14 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:31:14 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:31:14 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:31:14 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:31:14 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:31:14 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:31:14 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:31:14 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:31:14 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:31:14 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:31:14 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:31:14 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:31:14 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:31:14 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:31:14 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:31:14 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:31:14 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:31:14 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:31:14 DEBUG environment: WINDOWPATH=3
2022-03-05 17:31:14 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:31:14 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:31:14 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:31:14 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:31:14 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:31:14 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:31:14 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:31:14 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:31:14 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:31:14 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:31:14 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:31:14 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:31:14 DEBUG environment: TERM=xterm-256color
2022-03-05 17:31:14 DEBUG environment: USER=chrisshepherd
2022-03-05 17:31:14 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:31:14 DEBUG environment: DISPLAY=:0
2022-03-05 17:31:14 DEBUG environment: SHLVL=2
2022-03-05 17:31:14 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:31:14 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:31:14 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:31:14 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:31:14 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:31:14 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:31:14 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:31:14 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:31:14 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:31:14 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:31:14 INFO Temporary directory /tmp/tmp115v0rds
2022-03-05 17:31:14 DEBUG run_script: test_name= script_name=None
2022-03-05 17:31:14 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:14 INFO Test case: one_file_db
2022-03-05 17:31:14 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:31:14 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:31:14 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:31:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:17 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:31:17 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:31:17 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:31:17.350033001 +0000
@@ -1,17 +1,16 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9
+Collecting mutagen
+  Using cached mutagen-1.45.1-py3-none-any.whl (218 kB)
+Installing collected packages: mutagen
+Successfully installed mutagen-1.45.1

2022-03-05 17:31:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:17 DEBUG run_script: test_name= script_name=None
2022-03-05 17:31:17 INFO Removing temporary directory /tmp/tmp115v0rds
2022-03-05 17:31:43 INFO cmdtest version 0.32+git starts
2022-03-05 17:31:43 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:31:43 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:31:43 DEBUG uid: 1001
2022-03-05 17:31:43 DEBUG effective uid: 1001
2022-03-05 17:31:43 DEBUG gid: 1001
2022-03-05 17:31:43 DEBUG effective gid: 1001
2022-03-05 17:31:43 DEBUG environment variables:
2022-03-05 17:31:43 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:31:43 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:31:43 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:31:43 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:31:43 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:31:43 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:31:43 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:31:43 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:31:43 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:31:43 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:31:43 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:31:43 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:31:43 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:31:43 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:31:43 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:31:43 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:31:43 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:31:43 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:31:43 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:31:43 DEBUG environment: WINDOWPATH=3
2022-03-05 17:31:43 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:31:43 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:31:43 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:31:43 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:31:43 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:31:43 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:31:43 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:31:43 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:31:43 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:31:43 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:31:43 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:31:43 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:31:43 DEBUG environment: TERM=xterm-256color
2022-03-05 17:31:43 DEBUG environment: USER=chrisshepherd
2022-03-05 17:31:43 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:31:43 DEBUG environment: DISPLAY=:0
2022-03-05 17:31:43 DEBUG environment: SHLVL=2
2022-03-05 17:31:43 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:31:43 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:31:43 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:31:43 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:31:43 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:31:43 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:31:43 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:31:43 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:31:43 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:31:43 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:31:43 INFO Temporary directory /tmp/tmpp8ljadtg
2022-03-05 17:31:43 DEBUG run_script: test_name= script_name=None
2022-03-05 17:31:43 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:43 INFO Test case: one_file_db
2022-03-05 17:31:43 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:31:43 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:31:43 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:31:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:45 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:31:45 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:31:45 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:31:45.907079751 +0000
@@ -1,17 +1,16 @@
-<?xml version="1.0" ?>
-<DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
-</DJ_PLAYLISTS>
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9
+Collecting mutagen
+  Using cached mutagen-1.45.1-py3-none-any.whl (218 kB)
+Installing collected packages: mutagen
+Successfully installed mutagen-1.45.1

2022-03-05 17:31:45 ERROR FAIL: one_file_db: stderr diff:
--- /dev/null	2022-02-22 09:55:09.280960431 +0000
+++ tests/one_file_db.stderr-actual	2022-03-05 17:31:45.967081949 +0000
@@ -0,0 +1 @@
+cat: /tmp/tmpp8ljadtg/data/one_file_db.xml: No such file or directory

2022-03-05 17:31:45 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:31:45 DEBUG run_script: test_name= script_name=None
2022-03-05 17:31:45 INFO Removing temporary directory /tmp/tmpp8ljadtg
2022-03-05 17:32:41 INFO cmdtest version 0.32+git starts
2022-03-05 17:32:41 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:32:41 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:32:41 DEBUG uid: 1001
2022-03-05 17:32:41 DEBUG effective uid: 1001
2022-03-05 17:32:41 DEBUG gid: 1001
2022-03-05 17:32:41 DEBUG effective gid: 1001
2022-03-05 17:32:41 DEBUG environment variables:
2022-03-05 17:32:41 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:32:41 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:32:41 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:32:41 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:32:41 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:32:41 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:32:41 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:32:41 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:32:41 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:32:41 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:32:41 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:32:41 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:32:41 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:32:41 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:32:41 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:32:41 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:32:41 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:32:41 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:32:41 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:32:41 DEBUG environment: WINDOWPATH=3
2022-03-05 17:32:41 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:32:41 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:32:41 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:32:41 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:32:41 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:32:41 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:32:41 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:32:41 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:32:41 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:32:41 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:32:41 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:32:41 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:32:41 DEBUG environment: TERM=xterm-256color
2022-03-05 17:32:41 DEBUG environment: USER=chrisshepherd
2022-03-05 17:32:41 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:32:41 DEBUG environment: DISPLAY=:0
2022-03-05 17:32:41 DEBUG environment: SHLVL=2
2022-03-05 17:32:41 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:32:41 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:32:41 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:32:41 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:32:41 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:32:41 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:32:41 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:32:41 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:32:41 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:32:41 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:32:41 INFO Temporary directory /tmp/tmpwov9hp4b
2022-03-05 17:32:41 DEBUG run_script: test_name= script_name=None
2022-03-05 17:32:41 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:32:41 INFO Test case: one_file_db
2022-03-05 17:32:41 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:32:41 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:32:41 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:32:43 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:32:43 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:32:43 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:32:43 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:32:43.969207998 +0000
@@ -1,17 +1,33 @@
+activate
+activate.csh
+activate.fish
+Activate.ps1
+easy_install
+easy_install-3.9
+pip
+pip3
+pip3.9
+python
+python3
+python3.9
+Collecting mutagen
+  Using cached mutagen-1.45.1-py3-none-any.whl (218 kB)
+Installing collected packages: mutagen
+Successfully installed mutagen-1.45.1
 <?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-05" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
 </DJ_PLAYLISTS>

2022-03-05 17:32:43 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:32:43 DEBUG run_script: test_name= script_name=None
2022-03-05 17:32:43 INFO Removing temporary directory /tmp/tmpwov9hp4b
2022-03-05 17:33:17 INFO cmdtest version 0.32+git starts
2022-03-05 17:33:17 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:33:17 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:33:17 DEBUG uid: 1001
2022-03-05 17:33:17 DEBUG effective uid: 1001
2022-03-05 17:33:17 DEBUG gid: 1001
2022-03-05 17:33:17 DEBUG effective gid: 1001
2022-03-05 17:33:17 DEBUG environment variables:
2022-03-05 17:33:17 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:33:17 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:33:17 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:33:17 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:33:17 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:33:17 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:33:17 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:33:17 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:33:17 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:33:17 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:33:17 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:33:17 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:33:17 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:33:17 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:33:17 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:33:17 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:33:17 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:33:17 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:33:17 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:33:17 DEBUG environment: WINDOWPATH=3
2022-03-05 17:33:17 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:33:17 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:33:17 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:33:17 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:33:17 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:33:17 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:33:17 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:33:17 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:33:17 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:33:17 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:33:17 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:33:17 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:33:17 DEBUG environment: TERM=xterm-256color
2022-03-05 17:33:17 DEBUG environment: USER=chrisshepherd
2022-03-05 17:33:17 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:33:17 DEBUG environment: DISPLAY=:0
2022-03-05 17:33:17 DEBUG environment: SHLVL=2
2022-03-05 17:33:17 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:33:17 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:33:17 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:33:17 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:33:17 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:33:17 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:33:17 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:33:17 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:33:17 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:33:17 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:33:17 INFO Temporary directory /tmp/tmper4_js0f
2022-03-05 17:33:17 DEBUG run_script: test_name= script_name=None
2022-03-05 17:33:17 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:17 INFO Test case: one_file_db
2022-03-05 17:33:17 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:33:17 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:33:17 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:33:20 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:20 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:33:20 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:33:20 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-04 18:56:10.201610431 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:33:20.410543744 +0000
@@ -1,17 +1,17 @@
 <?xml version="1.0" ?>
 <DJ_PLAYLISTS Version="1.0.0">
-        <PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
-        <COLLECTION Entries="1">
-                <TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
-Comments: http://freemusicarchive.org/
-Curator: Arbiter Records
-Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-04" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
-        </COLLECTION>
-        <PLAYLISTS>
-                <NODE Name="ROOT" Type="0" Count="1" KeyType="0">
-                        <NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
-                                <TRACK Key="1"/>
-                        </NODE>
-                </NODE>
-        </PLAYLISTS>
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-05" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
 </DJ_PLAYLISTS>

2022-03-05 17:33:20 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:20 DEBUG run_script: test_name= script_name=None
2022-03-05 17:33:20 INFO Removing temporary directory /tmp/tmper4_js0f
2022-03-05 17:33:52 INFO cmdtest version 0.32+git starts
2022-03-05 17:33:52 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:33:52 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:33:52 DEBUG uid: 1001
2022-03-05 17:33:52 DEBUG effective uid: 1001
2022-03-05 17:33:52 DEBUG gid: 1001
2022-03-05 17:33:52 DEBUG effective gid: 1001
2022-03-05 17:33:52 DEBUG environment variables:
2022-03-05 17:33:52 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:33:52 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:33:52 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:33:52 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:33:52 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:33:52 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:33:52 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:33:52 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:33:52 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:33:52 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:33:52 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:33:52 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:33:52 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:33:52 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:33:52 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:33:52 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:33:52 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:33:52 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:33:52 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:33:52 DEBUG environment: WINDOWPATH=3
2022-03-05 17:33:52 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:33:52 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:33:52 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:33:52 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:33:52 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:33:52 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:33:52 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:33:52 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:33:52 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:33:52 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:33:52 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:33:52 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:33:52 DEBUG environment: TERM=xterm-256color
2022-03-05 17:33:52 DEBUG environment: USER=chrisshepherd
2022-03-05 17:33:52 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:33:52 DEBUG environment: DISPLAY=:0
2022-03-05 17:33:52 DEBUG environment: SHLVL=2
2022-03-05 17:33:52 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:33:52 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:33:52 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:33:52 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:33:52 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:33:52 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:33:52 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:33:52 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:33:52 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:33:52 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:33:52 INFO Temporary directory /tmp/tmpu_lwjryw
2022-03-05 17:33:52 DEBUG run_script: test_name= script_name=None
2022-03-05 17:33:52 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:52 INFO Test case: one_file_db
2022-03-05 17:33:52 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:33:52 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:33:52 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:33:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:55 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:33:55 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:33:55 ERROR FAIL: one_file_db: stdout diff:
--- tests/one_file_db.stdout	2022-03-05 17:33:50.315639905 +0000
+++ tests/one_file_db.stdout-actual	2022-03-05 17:33:55.511830370 +0000
@@ -0,0 +1,17 @@
+<?xml version="1.0" ?>
+<DJ_PLAYLISTS Version="1.0.0">
+	<PRODUCT Name="rekordbox" Version="5.8.6" Company="Pioneer DJ"/>
+	<COLLECTION Entries="1">
+		<TRACK TrackID="1" Name="Chopin, Etude Op. 10, No. 9" Kind="MP3 File" Size="2822400000" Artist="Leo Sirota" TrackNumber="1" Album="" Composer="Leo Sirota" Comments="URL: http://freemusicarchive.org/music/Leo_Sirota/A_Chopin_Recital/sirotachopinmp3
+Comments: http://freemusicarchive.org/
+Curator: Arbiter Records
+Copyright: Attribution-Noncommercial-Share Alike 3.0 United States: http://creativecommons.org/licenses/by-nc-sa/3.0/us/" Year="" BitRate="64000" SampleRate="44100" TotalTime="160.19225" DiscNumber="" AverageBpm="" DateAdded="2022-03-05" PlayCount="" Rating="" Location="file://localhost/DATADIR/root/subdir_one/chopin_1.mp3"/>
+	</COLLECTION>
+	<PLAYLISTS>
+		<NODE Name="ROOT" Type="0" Count="1" KeyType="0">
+			<NODE Name="subdir_one" Type="1" Entries="1" KeyType="0">
+				<TRACK Key="1"/>
+			</NODE>
+		</NODE>
+	</PLAYLISTS>
+</DJ_PLAYLISTS>

2022-03-05 17:33:55 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:33:55 DEBUG run_script: test_name= script_name=None
2022-03-05 17:33:55 INFO Removing temporary directory /tmp/tmpu_lwjryw
2022-03-05 17:34:54 INFO cmdtest version 0.32+git starts
2022-03-05 17:34:54 DEBUG sys.argv: ['/usr/bin/cmdtest', 'tests', '--log=tests/cmdtest.log']
2022-03-05 17:34:54 DEBUG current working directory: /home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:34:54 DEBUG uid: 1001
2022-03-05 17:34:54 DEBUG effective uid: 1001
2022-03-05 17:34:54 DEBUG gid: 1001
2022-03-05 17:34:54 DEBUG effective gid: 1001
2022-03-05 17:34:54 DEBUG environment variables:
2022-03-05 17:34:54 DEBUG environment: SHELL=/bin/bash
2022-03-05 17:34:54 DEBUG environment: SESSION_MANAGER=local/ct-lt-2124:@/tmp/.ICE-unix/234154,unix/ct-lt-2124:/tmp/.ICE-unix/234154
2022-03-05 17:34:54 DEBUG environment: QT_ACCESSIBILITY=1
2022-03-05 17:34:54 DEBUG environment: COLORTERM=truecolor
2022-03-05 17:34:54 DEBUG environment: XDG_MENU_PREFIX=gnome-
2022-03-05 17:34:54 DEBUG environment: GNOME_DESKTOP_SESSION_ID=this-is-deprecated
2022-03-05 17:34:54 DEBUG environment: LANGUAGE=en_GB:en
2022-03-05 17:34:54 DEBUG environment: SSH_AUTH_SOCK=/run/user/1001/keyring/ssh
2022-03-05 17:34:54 DEBUG environment: XMODIFIERS=@im=ibus
2022-03-05 17:34:54 DEBUG environment: DESKTOP_SESSION=gnome
2022-03-05 17:34:54 DEBUG environment: SSH_AGENT_PID=223861
2022-03-05 17:34:54 DEBUG environment: GTK_MODULES=gail:atk-bridge
2022-03-05 17:34:54 DEBUG environment: PWD=/home/chrisshepherd/self_study/rbr_tool/new_python
2022-03-05 17:34:54 DEBUG environment: XDG_SESSION_DESKTOP=gnome
2022-03-05 17:34:54 DEBUG environment: LOGNAME=chrisshepherd
2022-03-05 17:34:54 DEBUG environment: XDG_SESSION_TYPE=wayland
2022-03-05 17:34:54 DEBUG environment: GPG_AGENT_INFO=/run/user/1001/gnupg/S.gpg-agent:0:1
2022-03-05 17:34:54 DEBUG environment: XAUTHORITY=/run/user/1001/.mutter-Xwaylandauth.TU1UI1
2022-03-05 17:34:54 DEBUG environment: IM_CONFIG_CHECK_ENV=1
2022-03-05 17:34:54 DEBUG environment: WINDOWPATH=3
2022-03-05 17:34:54 DEBUG environment: GDM_LANG=en_GB.UTF-8
2022-03-05 17:34:54 DEBUG environment: HOME=/home/chrisshepherd
2022-03-05 17:34:54 DEBUG environment: USERNAME=chrisshepherd
2022-03-05 17:34:54 DEBUG environment: IM_CONFIG_PHASE=1
2022-03-05 17:34:54 DEBUG environment: LANG=en_GB.UTF-8
2022-03-05 17:34:54 DEBUG environment: LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
2022-03-05 17:34:54 DEBUG environment: XDG_CURRENT_DESKTOP=GNOME
2022-03-05 17:34:54 DEBUG environment: VTE_VERSION=6203
2022-03-05 17:34:54 DEBUG environment: WAYLAND_DISPLAY=wayland-0
2022-03-05 17:34:54 DEBUG environment: GNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/10cbaee1_6870_4a6c_9df7_7babaeb73173
2022-03-05 17:34:54 DEBUG environment: GNOME_SETUP_DISPLAY=:1
2022-03-05 17:34:54 DEBUG environment: XDG_SESSION_CLASS=user
2022-03-05 17:34:54 DEBUG environment: TERM=xterm-256color
2022-03-05 17:34:54 DEBUG environment: USER=chrisshepherd
2022-03-05 17:34:54 DEBUG environment: GNOME_TERMINAL_SERVICE=:1.701
2022-03-05 17:34:54 DEBUG environment: DISPLAY=:0
2022-03-05 17:34:54 DEBUG environment: SHLVL=2
2022-03-05 17:34:54 DEBUG environment: QT_IM_MODULE=ibus
2022-03-05 17:34:54 DEBUG environment: XDG_RUNTIME_DIR=/run/user/1001
2022-03-05 17:34:54 DEBUG environment: XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share/:/usr/share/
2022-03-05 17:34:54 DEBUG environment: PATH=/home/chrisshepherd/.local/bin:/home/chrisshepherd/gn:/home/chrisshepherd/.cargo/bin:/home/chrisshepherd/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
2022-03-05 17:34:54 DEBUG environment: GDMSESSION=gnome
2022-03-05 17:34:54 DEBUG environment: DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1001/bus
2022-03-05 17:34:54 DEBUG environment: OLDPWD=/home/chrisshepherd/self_study/rbr_tool/new_python/tests
2022-03-05 17:34:54 DEBUG environment: _=/usr/bin/cmdtest
2022-03-05 17:34:54 DEBUG Config:
[config]
output = 
log = tests/cmdtest.log
log-level = debug
log-max = 0
log-keep = 10
log-mode = 0600
dump-memory-profile = simple
memory-dump-interval = 300
command = 
test = 
timings = False
keep = False


2022-03-05 17:34:54 DEBUG Python version: 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110]
2022-03-05 17:34:54 INFO Temporary directory /tmp/tmp3sbl4bnx
2022-03-05 17:34:54 DEBUG run_script: test_name= script_name=None
2022-03-05 17:34:54 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:34:54 INFO Test case: one_file_db
2022-03-05 17:34:54 DEBUG run_script: test_name=one_file_db script_name=tests/one_file_db.setup
2022-03-05 17:34:54 DEBUG run external command: [['tests/one_file_db.setup']]
2022-03-05 17:34:54 DEBUG run external command: [['tests/one_file_db.script']]
2022-03-05 17:34:56 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:34:56 DEBUG run external command: [['diff', '-u', 'tests/one_file_db.stdout', 'tests/one_file_db.stdout-actual']]
2022-03-05 17:34:56 DEBUG run external command: [['diff', '-u', '/dev/null', 'tests/one_file_db.stderr-actual']]
2022-03-05 17:34:57 DEBUG run_script: test_name=one_file_db script_name=None
2022-03-05 17:34:57 DEBUG run_script: test_name= script_name=None
2022-03-05 17:34:57 INFO Removing temporary directory /tmp/tmp3sbl4bnx
2022-03-05 17:34:57 INFO cmdtest version 0.32+git ends normally
